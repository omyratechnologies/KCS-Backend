# ðŸš€ Production Environment Configuration for KCS Backend
# Copy this file to .env.production and update the values

# Application Environment
NODE_ENV=production
PORT=4500
SOCKET_PORT=4501

# Database Configuration
COUCHBASE_CONNECTION_STRING=couchbase://production-database:11210
COUCHBASE_USERNAME=production_user
COUCHBASE_PASSWORD=your_production_password
COUCHBASE_BUCKET=kcs_backend_production
OTTOMAN_IMPLICIT_REMOVE=false

# Redis Configuration (Upstash Production)
REDIS_URI=rediss://your_production_redis_host:6380
REDIS_PASSWORD=your_production_redis_password

# JWT Configuration
JWT_SECRET=your_production_jwt_secret_key_here_make_it_very_long_and_secure
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Email Configuration (SendGrid Production)
SENDGRID_API_KEY=SG.your_production_sendgrid_api_key_here
FROM_EMAIL=noreply@letscatchup-kcs.com
FROM_NAME=KCS Learning Management System

# AWS SES Configuration (Alternative to SendGrid)
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY=your_production_aws_access_key
AWS_SES_SECRET_KEY=your_production_aws_secret_key

# AWS S3 Configuration
S3_BUCKET_NAME=kcs-production-assets
S3_REGION=us-east-1
S3_ACCESS_KEY=your_production_s3_access_key
S3_SECRET_KEY=your_production_s3_secret_key

# MediaSoup Configuration for Video Conferencing
MEDIASOUP_WORKERS=4
MEDIASOUP_LISTEN_IP=0.0.0.0
MEDIASOUP_ANNOUNCED_IP=devapi.letscatchup-kcs.com

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500

# CORS Configuration
CORS_ORIGIN=https://letscatchup-kcs.com,https://admin.letscatchup-kcs.com,https://app.letscatchup-kcs.com

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=logs/kcs-backend-production.log

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=10000

# Build Information (automatically set by CI/CD)
BUILD_NUMBER=${BUILD_NUMBER}
BUILD_TIMESTAMP=${BUILD_TIMESTAMP}
GIT_COMMIT=${GIT_COMMIT}

# Monitoring and Alerting
SENTRY_DSN=https://your_production_sentry_dsn@sentry.io/project_id
NEW_RELIC_LICENSE_KEY=your_production_new_relic_license_key

# Feature Flags
ENABLE_SWAGGER_UI=false
ENABLE_API_DOCS=false
ENABLE_DEBUG_LOGS=false
ENABLE_PERFORMANCE_MONITORING=true

# Security Configuration
BCRYPT_ROUNDS=15
SESSION_SECRET=your_production_session_secret_very_secure
CSRF_SECRET=your_production_csrf_secret_very_secure

# External API Keys
PAYMENT_GATEWAY_API_KEY=your_production_payment_api_key
SMS_PROVIDER_API_KEY=your_production_sms_api_key
ANALYTICS_API_KEY=your_production_analytics_api_key

# Database Migration
RUN_MIGRATIONS=false
SEED_DATA=false

# SSL Configuration
SSL_CERT_PATH=/etc/ssl/certs/letscatchup-kcs.com.crt
SSL_KEY_PATH=/etc/ssl/private/letscatchup-kcs.com.key

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 1 * * *
BACKUP_S3_BUCKET=kcs-production-backups
BACKUP_RETENTION_DAYS=90

# Cache Configuration
CACHE_TTL=7200
CACHE_MAX_SIZE=500mb

# File Upload Limits
MAX_FILE_SIZE=50mb
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx,xls,xlsx,ppt,pptx,mp4,mov,avi

# Webhook URLs
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/your_production_teams_webhook
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your_production_slack_webhook

# Third-party Integrations
GOOGLE_CLIENT_ID=your_google_client_id_production
GOOGLE_CLIENT_SECRET=your_google_client_secret_production
MICROSOFT_CLIENT_ID=your_microsoft_client_id_production
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_production

# Performance Optimization
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
ENABLE_CDN=true
CDN_URL=https://cdn.letscatchup-kcs.com

# Security Headers
ENABLE_HELMET=true
ENABLE_CORS_CREDENTIALS=false
ENABLE_XSS_PROTECTION=true

# Database Connection Pool
DB_MIN_CONNECTIONS=5
DB_MAX_CONNECTIONS=50
DB_CONNECTION_TIMEOUT=30000

# Load Balancer Configuration
TRUST_PROXY=true
BEHIND_LOAD_BALANCER=true

# Scaling Configuration
CLUSTER_MODE=true
CLUSTER_WORKERS=auto

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is currently under maintenance. Please try again later.

# Analytics and Tracking
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X
MIXPANEL_TOKEN=your_mixpanel_production_token
HOTJAR_ID=your_hotjar_production_id

# Error Reporting
ENABLE_ERROR_REPORTING=true
ERROR_WEBHOOK_URL=https://your-error-reporting-webhook

# Feature Toggles
ENABLE_NEW_FEATURES=true
ENABLE_BETA_FEATURES=false
ENABLE_EXPERIMENTAL_FEATURES=false

# API Versioning
API_VERSION=v1
ENABLE_API_VERSIONING=true

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://your-csp-report-uri

# Database Encryption
DB_ENCRYPTION_KEY=your_database_encryption_key_production
ENABLE_FIELD_ENCRYPTION=true
