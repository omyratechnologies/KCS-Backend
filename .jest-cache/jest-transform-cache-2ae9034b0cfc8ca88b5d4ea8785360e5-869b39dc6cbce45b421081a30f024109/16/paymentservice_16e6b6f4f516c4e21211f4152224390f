445193fe2e8e50c1705e9c1acb8ddecd
/* istanbul ignore next */
function cov_9ho3sok97() {
  var path = "/Users/avinashgantala/Development/KCS-Project/KCS-Backend/src/services/payment.service.ts";
  var hash = "f69240838d9b449975297b9122ddbd14cb94b9ec";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/avinashgantala/Development/KCS-Project/KCS-Backend/src/services/payment.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 18,
          column: 26
        },
        end: {
          line: 18,
          column: 36
        }
      },
      "1": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 31,
          column: 11
        }
      },
      "2": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "3": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 38,
          column: 13
        }
      },
      "4": {
        start: {
          line: 35,
          column: 16
        },
        end: {
          line: 37,
          column: 19
        }
      },
      "5": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 47,
          column: 13
        }
      },
      "6": {
        start: {
          line: 40,
          column: 16
        },
        end: {
          line: 46,
          column: 19
        }
      },
      "7": {
        start: {
          line: 49,
          column: 40
        },
        end: {
          line: 52,
          column: 14
        }
      },
      "8": {
        start: {
          line: 54,
          column: 34
        },
        end: {
          line: 54,
          column: 56
        }
      },
      "9": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 84,
          column: 13
        }
      },
      "10": {
        start: {
          line: 57,
          column: 16
        },
        end: {
          line: 57,
          column: 164
        }
      },
      "11": {
        start: {
          line: 58,
          column: 16
        },
        end: {
          line: 68,
          column: 19
        }
      },
      "12": {
        start: {
          line: 72,
          column: 16
        },
        end: {
          line: 72,
          column: 237
        }
      },
      "13": {
        start: {
          line: 73,
          column: 16
        },
        end: {
          line: 83,
          column: 19
        }
      },
      "14": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 85,
          column: 26
        }
      },
      "15": {
        start: {
          line: 88,
          column: 34
        },
        end: {
          line: 88,
          column: 56
        }
      },
      "16": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 100,
          column: 15
        }
      },
      "17": {
        start: {
          line: 101,
          column: 12
        },
        end: {
          line: 101,
          column: 24
        }
      },
      "18": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 117,
          column: 9
        }
      },
      "19": {
        start: {
          line: 109,
          column: 32
        },
        end: {
          line: 112,
          column: 14
        }
      },
      "20": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 96
        }
      },
      "21": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 116,
          column: 68
        }
      },
      "22": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 129,
          column: 9
        }
      },
      "23": {
        start: {
          line: 125,
          column: 12
        },
        end: {
          line: 125,
          column: 213
        }
      },
      "24": {
        start: {
          line: 128,
          column: 12
        },
        end: {
          line: 128,
          column: 71
        }
      },
      "25": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 145,
          column: 9
        }
      },
      "26": {
        start: {
          line: 136,
          column: 26
        },
        end: {
          line: 136,
          column: 56
        }
      },
      "27": {
        start: {
          line: 137,
          column: 12
        },
        end: {
          line: 139,
          column: 13
        }
      },
      "28": {
        start: {
          line: 138,
          column: 16
        },
        end: {
          line: 138,
          column: 52
        }
      },
      "29": {
        start: {
          line: 140,
          column: 31
        },
        end: {
          line: 140,
          column: 60
        }
      },
      "30": {
        start: {
          line: 141,
          column: 12
        },
        end: {
          line: 141,
          column: 41
        }
      },
      "31": {
        start: {
          line: 144,
          column: 12
        },
        end: {
          line: 144,
          column: 70
        }
      },
      "32": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 156,
          column: 9
        }
      },
      "33": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 135
        }
      },
      "34": {
        start: {
          line: 155,
          column: 12
        },
        end: {
          line: 155,
          column: 71
        }
      },
      "35": {
        start: {
          line: 163,
          column: 8
        },
        end: {
          line: 173,
          column: 9
        }
      },
      "36": {
        start: {
          line: 164,
          column: 29
        },
        end: {
          line: 164,
          column: 222
        }
      },
      "37": {
        start: {
          line: 166,
          column: 12
        },
        end: {
          line: 168,
          column: 13
        }
      },
      "38": {
        start: {
          line: 167,
          column: 16
        },
        end: {
          line: 167,
          column: 65
        }
      },
      "39": {
        start: {
          line: 169,
          column: 12
        },
        end: {
          line: 169,
          column: 28
        }
      },
      "40": {
        start: {
          line: 172,
          column: 12
        },
        end: {
          line: 172,
          column: 71
        }
      },
      "41": {
        start: {
          line: 179,
          column: 8
        },
        end: {
          line: 192,
          column: 9
        }
      },
      "42": {
        start: {
          line: 180,
          column: 26
        },
        end: {
          line: 180,
          column: 56
        }
      },
      "43": {
        start: {
          line: 181,
          column: 12
        },
        end: {
          line: 183,
          column: 13
        }
      },
      "44": {
        start: {
          line: 182,
          column: 16
        },
        end: {
          line: 182,
          column: 42
        }
      },
      "45": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 186,
          column: 13
        }
      },
      "46": {
        start: {
          line: 185,
          column: 16
        },
        end: {
          line: 185,
          column: 52
        }
      },
      "47": {
        start: {
          line: 187,
          column: 30
        },
        end: {
          line: 187,
          column: 59
        }
      },
      "48": {
        start: {
          line: 188,
          column: 12
        },
        end: {
          line: 188,
          column: 40
        }
      },
      "49": {
        start: {
          line: 191,
          column: 12
        },
        end: {
          line: 191,
          column: 69
        }
      },
      "50": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 254,
          column: 9
        }
      },
      "51": {
        start: {
          line: 199,
          column: 29
        },
        end: {
          line: 199,
          column: 68
        }
      },
      "52": {
        start: {
          line: 200,
          column: 12
        },
        end: {
          line: 202,
          column: 13
        }
      },
      "53": {
        start: {
          line: 201,
          column: 16
        },
        end: {
          line: 201,
          column: 54
        }
      },
      "54": {
        start: {
          line: 203,
          column: 25
        },
        end: {
          line: 203,
          column: 27
        }
      },
      "55": {
        start: {
          line: 204,
          column: 29
        },
        end: {
          line: 206,
          column: 66
        }
      },
      "56": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 249,
          column: 13
        }
      },
      "57": {
        start: {
          line: 209,
          column: 36
        },
        end: {
          line: 214,
          column: 18
        }
      },
      "58": {
        start: {
          line: 215,
          column: 16
        },
        end: {
          line: 248,
          column: 17
        }
      },
      "59": {
        start: {
          line: 216,
          column: 36
        },
        end: {
          line: 245,
          column: 21
        }
      },
      "60": {
        start: {
          line: 222,
          column: 69
        },
        end: {
          line: 230,
          column: 25
        }
      },
      "61": {
        start: {
          line: 246,
          column: 32
        },
        end: {
          line: 246,
          column: 57
        }
      },
      "62": {
        start: {
          line: 247,
          column: 20
        },
        end: {
          line: 247,
          column: 35
        }
      },
      "63": {
        start: {
          line: 250,
          column: 12
        },
        end: {
          line: 250,
          column: 24
        }
      },
      "64": {
        start: {
          line: 253,
          column: 12
        },
        end: {
          line: 253,
          column: 79
        }
      },
      "65": {
        start: {
          line: 261,
          column: 26
        },
        end: {
          line: 261,
          column: 36
        }
      },
      "66": {
        start: {
          line: 263,
          column: 8
        },
        end: {
          line: 276,
          column: 11
        }
      },
      "67": {
        start: {
          line: 277,
          column: 8
        },
        end: {
          line: 429,
          column: 9
        }
      },
      "68": {
        start: {
          line: 279,
          column: 12
        },
        end: {
          line: 288,
          column: 13
        }
      },
      "69": {
        start: {
          line: 280,
          column: 16
        },
        end: {
          line: 287,
          column: 19
        }
      },
      "70": {
        start: {
          line: 289,
          column: 12
        },
        end: {
          line: 293,
          column: 13
        }
      },
      "71": {
        start: {
          line: 290,
          column: 16
        },
        end: {
          line: 292,
          column: 19
        }
      },
      "72": {
        start: {
          line: 295,
          column: 32
        },
        end: {
          line: 295,
          column: 74
        }
      },
      "73": {
        start: {
          line: 296,
          column: 12
        },
        end: {
          line: 298,
          column: 13
        }
      },
      "74": {
        start: {
          line: 297,
          column: 16
        },
        end: {
          line: 297,
          column: 80
        }
      },
      "75": {
        start: {
          line: 300,
          column: 39
        },
        end: {
          line: 300,
          column: 107
        }
      },
      "76": {
        start: {
          line: 301,
          column: 12
        },
        end: {
          line: 306,
          column: 13
        }
      },
      "77": {
        start: {
          line: 302,
          column: 16
        },
        end: {
          line: 305,
          column: 19
        }
      },
      "78": {
        start: {
          line: 307,
          column: 34
        },
        end: {
          line: 307,
          column: 52
        }
      },
      "79": {
        start: {
          line: 308,
          column: 38
        },
        end: {
          line: 308,
          column: 95
        }
      },
      "80": {
        start: {
          line: 309,
          column: 12
        },
        end: {
          line: 314,
          column: 13
        }
      },
      "81": {
        start: {
          line: 310,
          column: 16
        },
        end: {
          line: 313,
          column: 19
        }
      },
      "82": {
        start: {
          line: 316,
          column: 32
        },
        end: {
          line: 330,
          column: 14
        }
      },
      "83": {
        start: {
          line: 332,
          column: 33
        },
        end: {
          line: 342,
          column: 13
        }
      },
      "84": {
        start: {
          line: 344,
          column: 12
        },
        end: {
          line: 363,
          column: 13
        }
      },
      "85": {
        start: {
          line: 346,
          column: 20
        },
        end: {
          line: 346,
          column: 123
        }
      },
      "86": {
        start: {
          line: 347,
          column: 20
        },
        end: {
          line: 347,
          column: 26
        }
      },
      "87": {
        start: {
          line: 350,
          column: 20
        },
        end: {
          line: 350,
          column: 115
        }
      },
      "88": {
        start: {
          line: 351,
          column: 20
        },
        end: {
          line: 351,
          column: 26
        }
      },
      "89": {
        start: {
          line: 354,
          column: 20
        },
        end: {
          line: 354,
          column: 123
        }
      },
      "90": {
        start: {
          line: 355,
          column: 20
        },
        end: {
          line: 355,
          column: 26
        }
      },
      "91": {
        start: {
          line: 358,
          column: 20
        },
        end: {
          line: 361,
          column: 23
        }
      },
      "92": {
        start: {
          line: 365,
          column: 39
        },
        end: {
          line: 369,
          column: 14
        }
      },
      "93": {
        start: {
          line: 371,
          column: 34
        },
        end: {
          line: 371,
          column: 56
        }
      },
      "94": {
        start: {
          line: 372,
          column: 12
        },
        end: {
          line: 386,
          column: 15
        }
      },
      "95": {
        start: {
          line: 387,
          column: 12
        },
        end: {
          line: 402,
          column: 15
        }
      },
      "96": {
        start: {
          line: 403,
          column: 12
        },
        end: {
          line: 407,
          column: 14
        }
      },
      "97": {
        start: {
          line: 410,
          column: 34
        },
        end: {
          line: 410,
          column: 56
        }
      },
      "98": {
        start: {
          line: 412,
          column: 12
        },
        end: {
          line: 426,
          column: 15
        }
      },
      "99": {
        start: {
          line: 428,
          column: 12
        },
        end: {
          line: 428,
          column: 24
        }
      },
      "100": {
        start: {
          line: 435,
          column: 26
        },
        end: {
          line: 435,
          column: 36
        }
      },
      "101": {
        start: {
          line: 436,
          column: 8
        },
        end: {
          line: 609,
          column: 9
        }
      },
      "102": {
        start: {
          line: 438,
          column: 12
        },
        end: {
          line: 446,
          column: 13
        }
      },
      "103": {
        start: {
          line: 439,
          column: 16
        },
        end: {
          line: 445,
          column: 19
        }
      },
      "104": {
        start: {
          line: 447,
          column: 32
        },
        end: {
          line: 447,
          column: 81
        }
      },
      "105": {
        start: {
          line: 448,
          column: 12
        },
        end: {
          line: 452,
          column: 13
        }
      },
      "106": {
        start: {
          line: 449,
          column: 16
        },
        end: {
          line: 451,
          column: 19
        }
      },
      "107": {
        start: {
          line: 454,
          column: 12
        },
        end: {
          line: 459,
          column: 13
        }
      },
      "108": {
        start: {
          line: 455,
          column: 16
        },
        end: {
          line: 458,
          column: 19
        }
      },
      "109": {
        start: {
          line: 461,
          column: 39
        },
        end: {
          line: 461,
          column: 119
        }
      },
      "110": {
        start: {
          line: 462,
          column: 12
        },
        end: {
          line: 467,
          column: 13
        }
      },
      "111": {
        start: {
          line: 463,
          column: 16
        },
        end: {
          line: 466,
          column: 19
        }
      },
      "112": {
        start: {
          line: 468,
          column: 34
        },
        end: {
          line: 468,
          column: 52
        }
      },
      "113": {
        start: {
          line: 469,
          column: 29
        },
        end: {
          line: 469,
          column: 34
        }
      },
      "114": {
        start: {
          line: 471,
          column: 12
        },
        end: {
          line: 499,
          column: 13
        }
      },
      "115": {
        start: {
          line: 473,
          column: 20
        },
        end: {
          line: 479,
          column: 23
        }
      },
      "116": {
        start: {
          line: 480,
          column: 20
        },
        end: {
          line: 480,
          column: 26
        }
      },
      "117": {
        start: {
          line: 483,
          column: 20
        },
        end: {
          line: 483,
          column: 255
        }
      },
      "118": {
        start: {
          line: 484,
          column: 20
        },
        end: {
          line: 484,
          column: 26
        }
      },
      "119": {
        start: {
          line: 487,
          column: 20
        },
        end: {
          line: 493,
          column: 23
        }
      },
      "120": {
        start: {
          line: 494,
          column: 20
        },
        end: {
          line: 494,
          column: 26
        }
      },
      "121": {
        start: {
          line: 497,
          column: 20
        },
        end: {
          line: 497,
          column: 67
        }
      },
      "122": {
        start: {
          line: 500,
          column: 12
        },
        end: {
          line: 589,
          column: 13
        }
      },
      "123": {
        start: {
          line: 502,
          column: 43
        },
        end: {
          line: 510,
          column: 18
        }
      },
      "124": {
        start: {
          line: 512,
          column: 16
        },
        end: {
          line: 519,
          column: 19
        }
      },
      "125": {
        start: {
          line: 521,
          column: 32
        },
        end: {
          line: 521,
          column: 74
        }
      },
      "126": {
        start: {
          line: 523,
          column: 38
        },
        end: {
          line: 523,
          column: 60
        }
      },
      "127": {
        start: {
          line: 524,
          column: 16
        },
        end: {
          line: 537,
          column: 19
        }
      },
      "128": {
        start: {
          line: 538,
          column: 16
        },
        end: {
          line: 552,
          column: 19
        }
      },
      "129": {
        start: {
          line: 553,
          column: 16
        },
        end: {
          line: 557,
          column: 18
        }
      },
      "130": {
        start: {
          line: 561,
          column: 43
        },
        end: {
          line: 565,
          column: 18
        }
      },
      "131": {
        start: {
          line: 567,
          column: 38
        },
        end: {
          line: 567,
          column: 60
        }
      },
      "132": {
        start: {
          line: 568,
          column: 16
        },
        end: {
          line: 583,
          column: 19
        }
      },
      "133": {
        start: {
          line: 584,
          column: 16
        },
        end: {
          line: 588,
          column: 19
        }
      },
      "134": {
        start: {
          line: 592,
          column: 34
        },
        end: {
          line: 592,
          column: 56
        }
      },
      "135": {
        start: {
          line: 594,
          column: 12
        },
        end: {
          line: 606,
          column: 15
        }
      },
      "136": {
        start: {
          line: 608,
          column: 12
        },
        end: {
          line: 608,
          column: 24
        }
      },
      "137": {
        start: {
          line: 615,
          column: 8
        },
        end: {
          line: 676,
          column: 9
        }
      },
      "138": {
        start: {
          line: 616,
          column: 32
        },
        end: {
          line: 616,
          column: 81
        }
      },
      "139": {
        start: {
          line: 617,
          column: 12
        },
        end: {
          line: 619,
          column: 13
        }
      },
      "140": {
        start: {
          line: 618,
          column: 16
        },
        end: {
          line: 618,
          column: 57
        }
      },
      "141": {
        start: {
          line: 620,
          column: 24
        },
        end: {
          line: 620,
          column: 62
        }
      },
      "142": {
        start: {
          line: 621,
          column: 12
        },
        end: {
          line: 623,
          column: 13
        }
      },
      "143": {
        start: {
          line: 622,
          column: 16
        },
        end: {
          line: 622,
          column: 56
        }
      },
      "144": {
        start: {
          line: 625,
          column: 34
        },
        end: {
          line: 625,
          column: 78
        }
      },
      "145": {
        start: {
          line: 627,
          column: 35
        },
        end: {
          line: 627,
          column: 87
        }
      },
      "146": {
        start: {
          line: 628,
          column: 34
        },
        end: {
          line: 628,
          column: 84
        }
      },
      "147": {
        start: {
          line: 629,
          column: 28
        },
        end: {
          line: 665,
          column: 14
        }
      },
      "148": {
        start: {
          line: 653,
          column: 56
        },
        end: {
          line: 657,
          column: 17
        }
      },
      "149": {
        start: {
          line: 667,
          column: 12
        },
        end: {
          line: 671,
          column: 15
        }
      },
      "150": {
        start: {
          line: 672,
          column: 12
        },
        end: {
          line: 672,
          column: 27
        }
      },
      "151": {
        start: {
          line: 675,
          column: 12
        },
        end: {
          line: 675,
          column: 68
        }
      },
      "152": {
        start: {
          line: 682,
          column: 8
        },
        end: {
          line: 715,
          column: 9
        }
      },
      "153": {
        start: {
          line: 683,
          column: 26
        },
        end: {
          line: 683,
          column: 39
        }
      },
      "154": {
        start: {
          line: 684,
          column: 12
        },
        end: {
          line: 686,
          column: 13
        }
      },
      "155": {
        start: {
          line: 685,
          column: 16
        },
        end: {
          line: 685,
          column: 43
        }
      },
      "156": {
        start: {
          line: 687,
          column: 25
        },
        end: {
          line: 687,
          column: 46
        }
      },
      "157": {
        start: {
          line: 688,
          column: 37
        },
        end: {
          line: 688,
          column: 50
        }
      },
      "158": {
        start: {
          line: 689,
          column: 12
        },
        end: {
          line: 691,
          column: 13
        }
      },
      "159": {
        start: {
          line: 690,
          column: 16
        },
        end: {
          line: 690,
          column: 57
        }
      },
      "160": {
        start: {
          line: 692,
          column: 12
        },
        end: {
          line: 694,
          column: 13
        }
      },
      "161": {
        start: {
          line: 693,
          column: 16
        },
        end: {
          line: 693,
          column: 55
        }
      },
      "162": {
        start: {
          line: 695,
          column: 12
        },
        end: {
          line: 697,
          column: 13
        }
      },
      "163": {
        start: {
          line: 696,
          column: 16
        },
        end: {
          line: 696,
          column: 49
        }
      },
      "164": {
        start: {
          line: 698,
          column: 33
        },
        end: {
          line: 698,
          column: 80
        }
      },
      "165": {
        start: {
          line: 699,
          column: 33
        },
        end: {
          line: 699,
          column: 46
        }
      },
      "166": {
        start: {
          line: 700,
          column: 12
        },
        end: {
          line: 702,
          column: 13
        }
      },
      "167": {
        start: {
          line: 701,
          column: 16
        },
        end: {
          line: 701,
          column: 53
        }
      },
      "168": {
        start: {
          line: 703,
          column: 12
        },
        end: {
          line: 705,
          column: 13
        }
      },
      "169": {
        start: {
          line: 704,
          column: 16
        },
        end: {
          line: 704,
          column: 51
        }
      },
      "170": {
        start: {
          line: 706,
          column: 29
        },
        end: {
          line: 706,
          column: 68
        }
      },
      "171": {
        start: {
          line: 707,
          column: 12
        },
        end: {
          line: 711,
          column: 14
        }
      },
      "172": {
        start: {
          line: 714,
          column: 12
        },
        end: {
          line: 714,
          column: 71
        }
      },
      "173": {
        start: {
          line: 722,
          column: 26
        },
        end: {
          line: 722,
          column: 36
        }
      },
      "174": {
        start: {
          line: 724,
          column: 8
        },
        end: {
          line: 735,
          column: 11
        }
      },
      "175": {
        start: {
          line: 736,
          column: 8
        },
        end: {
          line: 800,
          column: 9
        }
      },
      "176": {
        start: {
          line: 738,
          column: 12
        },
        end: {
          line: 746,
          column: 13
        }
      },
      "177": {
        start: {
          line: 739,
          column: 16
        },
        end: {
          line: 745,
          column: 19
        }
      },
      "178": {
        start: {
          line: 747,
          column: 32
        },
        end: {
          line: 747,
          column: 74
        }
      },
      "179": {
        start: {
          line: 748,
          column: 12
        },
        end: {
          line: 750,
          column: 13
        }
      },
      "180": {
        start: {
          line: 749,
          column: 16
        },
        end: {
          line: 749,
          column: 80
        }
      },
      "181": {
        start: {
          line: 752,
          column: 12
        },
        end: {
          line: 752,
          column: 72
        }
      },
      "182": {
        start: {
          line: 754,
          column: 39
        },
        end: {
          line: 754,
          column: 97
        }
      },
      "183": {
        start: {
          line: 756,
          column: 27
        },
        end: {
          line: 756,
          column: 128
        }
      },
      "184": {
        start: {
          line: 757,
          column: 34
        },
        end: {
          line: 757,
          column: 56
        }
      },
      "185": {
        start: {
          line: 759,
          column: 12
        },
        end: {
          line: 770,
          column: 15
        }
      },
      "186": {
        start: {
          line: 771,
          column: 12
        },
        end: {
          line: 781,
          column: 15
        }
      },
      "187": {
        start: {
          line: 782,
          column: 12
        },
        end: {
          line: 782,
          column: 26
        }
      },
      "188": {
        start: {
          line: 785,
          column: 34
        },
        end: {
          line: 785,
          column: 56
        }
      },
      "189": {
        start: {
          line: 786,
          column: 12
        },
        end: {
          line: 798,
          column: 15
        }
      },
      "190": {
        start: {
          line: 799,
          column: 12
        },
        end: {
          line: 799,
          column: 24
        }
      },
      "191": {
        start: {
          line: 806,
          column: 26
        },
        end: {
          line: 806,
          column: 36
        }
      },
      "192": {
        start: {
          line: 808,
          column: 8
        },
        end: {
          line: 817,
          column: 11
        }
      },
      "193": {
        start: {
          line: 818,
          column: 8
        },
        end: {
          line: 919,
          column: 9
        }
      },
      "194": {
        start: {
          line: 820,
          column: 12
        },
        end: {
          line: 832,
          column: 13
        }
      },
      "195": {
        start: {
          line: 821,
          column: 30
        },
        end: {
          line: 826,
          column: 18
        }
      },
      "196": {
        start: {
          line: 827,
          column: 38
        },
        end: {
          line: 827,
          column: 84
        }
      },
      "197": {
        start: {
          line: 828,
          column: 16
        },
        end: {
          line: 831,
          column: 18
        }
      },
      "198": {
        start: {
          line: 833,
          column: 32
        },
        end: {
          line: 833,
          column: 74
        }
      },
      "199": {
        start: {
          line: 834,
          column: 12
        },
        end: {
          line: 839,
          column: 13
        }
      },
      "200": {
        start: {
          line: 835,
          column: 16
        },
        end: {
          line: 838,
          column: 18
        }
      },
      "201": {
        start: {
          line: 841,
          column: 34
        },
        end: {
          line: 841,
          column: 112
        }
      },
      "202": {
        start: {
          line: 842,
          column: 12
        },
        end: {
          line: 844,
          column: 13
        }
      },
      "203": {
        start: {
          line: 843,
          column: 16
        },
        end: {
          line: 843,
          column: 80
        }
      },
      "204": {
        start: {
          line: 845,
          column: 12
        },
        end: {
          line: 847,
          column: 13
        }
      },
      "205": {
        start: {
          line: 846,
          column: 16
        },
        end: {
          line: 846,
          column: 77
        }
      },
      "206": {
        start: {
          line: 850,
          column: 12
        },
        end: {
          line: 866,
          column: 13
        }
      },
      "207": {
        start: {
          line: 852,
          column: 20
        },
        end: {
          line: 852,
          column: 82
        }
      },
      "208": {
        start: {
          line: 853,
          column: 20
        },
        end: {
          line: 853,
          column: 26
        }
      },
      "209": {
        start: {
          line: 856,
          column: 20
        },
        end: {
          line: 856,
          column: 78
        }
      },
      "210": {
        start: {
          line: 857,
          column: 20
        },
        end: {
          line: 857,
          column: 26
        }
      },
      "211": {
        start: {
          line: 860,
          column: 20
        },
        end: {
          line: 860,
          column: 82
        }
      },
      "212": {
        start: {
          line: 861,
          column: 20
        },
        end: {
          line: 861,
          column: 26
        }
      },
      "213": {
        start: {
          line: 864,
          column: 20
        },
        end: {
          line: 864,
          column: 78
        }
      },
      "214": {
        start: {
          line: 868,
          column: 12
        },
        end: {
          line: 871,
          column: 15
        }
      },
      "215": {
        start: {
          line: 872,
          column: 34
        },
        end: {
          line: 872,
          column: 56
        }
      },
      "216": {
        start: {
          line: 874,
          column: 12
        },
        end: {
          line: 885,
          column: 15
        }
      },
      "217": {
        start: {
          line: 886,
          column: 12
        },
        end: {
          line: 896,
          column: 15
        }
      },
      "218": {
        start: {
          line: 897,
          column: 12
        },
        end: {
          line: 897,
          column: 30
        }
      },
      "219": {
        start: {
          line: 900,
          column: 34
        },
        end: {
          line: 900,
          column: 56
        }
      },
      "220": {
        start: {
          line: 901,
          column: 12
        },
        end: {
          line: 913,
          column: 15
        }
      },
      "221": {
        start: {
          line: 914,
          column: 12
        },
        end: {
          line: 918,
          column: 14
        }
      },
      "222": {
        start: {
          line: 925,
          column: 8
        },
        end: {
          line: 953,
          column: 9
        }
      },
      "223": {
        start: {
          line: 926,
          column: 32
        },
        end: {
          line: 926,
          column: 74
        }
      },
      "224": {
        start: {
          line: 927,
          column: 12
        },
        end: {
          line: 929,
          column: 13
        }
      },
      "225": {
        start: {
          line: 928,
          column: 16
        },
        end: {
          line: 928,
          column: 74
        }
      },
      "226": {
        start: {
          line: 931,
          column: 34
        },
        end: {
          line: 931,
          column: 98
        }
      },
      "227": {
        start: {
          line: 932,
          column: 30
        },
        end: {
          line: 932,
          column: 62
        }
      },
      "228": {
        start: {
          line: 933,
          column: 28
        },
        end: {
          line: 933,
          column: 167
        }
      },
      "229": {
        start: {
          line: 933,
          column: 68
        },
        end: {
          line: 933,
          column: 164
        }
      },
      "230": {
        start: {
          line: 935,
          column: 39
        },
        end: {
          line: 935,
          column: 41
        }
      },
      "231": {
        start: {
          line: 936,
          column: 12
        },
        end: {
          line: 944,
          column: 13
        }
      },
      "232": {
        start: {
          line: 937,
          column: 31
        },
        end: {
          line: 937,
          column: 53
        }
      },
      "233": {
        start: {
          line: 938,
          column: 16
        },
        end: {
          line: 943,
          column: 18
        }
      },
      "234": {
        start: {
          line: 945,
          column: 12
        },
        end: {
          line: 949,
          column: 14
        }
      },
      "235": {
        start: {
          line: 952,
          column: 12
        },
        end: {
          line: 952,
          column: 74
        }
      },
      "236": {
        start: {
          line: 959,
          column: 8
        },
        end: {
          line: 985,
          column: 9
        }
      },
      "237": {
        start: {
          line: 960,
          column: 32
        },
        end: {
          line: 960,
          column: 74
        }
      },
      "238": {
        start: {
          line: 961,
          column: 12
        },
        end: {
          line: 963,
          column: 13
        }
      },
      "239": {
        start: {
          line: 962,
          column: 16
        },
        end: {
          line: 962,
          column: 65
        }
      },
      "240": {
        start: {
          line: 965,
          column: 34
        },
        end: {
          line: 965,
          column: 112
        }
      },
      "241": {
        start: {
          line: 966,
          column: 12
        },
        end: {
          line: 968,
          column: 13
        }
      },
      "242": {
        start: {
          line: 967,
          column: 16
        },
        end: {
          line: 967,
          column: 64
        }
      },
      "243": {
        start: {
          line: 970,
          column: 12
        },
        end: {
          line: 975,
          column: 13
        }
      },
      "244": {
        start: {
          line: 971,
          column: 35
        },
        end: {
          line: 971,
          column: 90
        }
      },
      "245": {
        start: {
          line: 972,
          column: 16
        },
        end: {
          line: 974,
          column: 17
        }
      },
      "246": {
        start: {
          line: 973,
          column: 20
        },
        end: {
          line: 973,
          column: 87
        }
      },
      "247": {
        start: {
          line: 977,
          column: 39
        },
        end: {
          line: 977,
          column: 126
        }
      },
      "248": {
        start: {
          line: 978,
          column: 28
        },
        end: {
          line: 978,
          column: 129
        }
      },
      "249": {
        start: {
          line: 980,
          column: 12
        },
        end: {
          line: 980,
          column: 102
        }
      },
      "250": {
        start: {
          line: 981,
          column: 12
        },
        end: {
          line: 981,
          column: 27
        }
      },
      "251": {
        start: {
          line: 984,
          column: 12
        },
        end: {
          line: 984,
          column: 77
        }
      },
      "252": {
        start: {
          line: 991,
          column: 8
        },
        end: {
          line: 1016,
          column: 9
        }
      },
      "253": {
        start: {
          line: 993,
          column: 16
        },
        end: {
          line: 995,
          column: 17
        }
      },
      "254": {
        start: {
          line: 994,
          column: 20
        },
        end: {
          line: 994,
          column: 79
        }
      },
      "255": {
        start: {
          line: 996,
          column: 16
        },
        end: {
          line: 998,
          column: 17
        }
      },
      "256": {
        start: {
          line: 997,
          column: 20
        },
        end: {
          line: 997,
          column: 70
        }
      },
      "257": {
        start: {
          line: 999,
          column: 16
        },
        end: {
          line: 999,
          column: 22
        }
      },
      "258": {
        start: {
          line: 1002,
          column: 16
        },
        end: {
          line: 1004,
          column: 17
        }
      },
      "259": {
        start: {
          line: 1003,
          column: 20
        },
        end: {
          line: 1003,
          column: 84
        }
      },
      "260": {
        start: {
          line: 1005,
          column: 16
        },
        end: {
          line: 1005,
          column: 22
        }
      },
      "261": {
        start: {
          line: 1008,
          column: 16
        },
        end: {
          line: 1010,
          column: 17
        }
      },
      "262": {
        start: {
          line: 1009,
          column: 20
        },
        end: {
          line: 1009,
          column: 79
        }
      },
      "263": {
        start: {
          line: 1011,
          column: 16
        },
        end: {
          line: 1011,
          column: 22
        }
      },
      "264": {
        start: {
          line: 1014,
          column: 16
        },
        end: {
          line: 1014,
          column: 60
        }
      },
      "265": {
        start: {
          line: 1022,
          column: 8
        },
        end: {
          line: 1046,
          column: 9
        }
      },
      "266": {
        start: {
          line: 1025,
          column: 12
        },
        end: {
          line: 1030,
          column: 13
        }
      },
      "267": {
        start: {
          line: 1026,
          column: 16
        },
        end: {
          line: 1029,
          column: 18
        }
      },
      "268": {
        start: {
          line: 1034,
          column: 12
        },
        end: {
          line: 1038,
          column: 14
        }
      },
      "269": {
        start: {
          line: 1041,
          column: 12
        },
        end: {
          line: 1045,
          column: 14
        }
      },
      "270": {
        start: {
          line: 1052,
          column: 8
        },
        end: {
          line: 1074,
          column: 9
        }
      },
      "271": {
        start: {
          line: 1053,
          column: 12
        },
        end: {
          line: 1055,
          column: 13
        }
      },
      "272": {
        start: {
          line: 1054,
          column: 16
        },
        end: {
          line: 1054,
          column: 79
        }
      },
      "273": {
        start: {
          line: 1058,
          column: 29
        },
        end: {
          line: 1061,
          column: 30
        }
      },
      "274": {
        start: {
          line: 1062,
          column: 12
        },
        end: {
          line: 1066,
          column: 14
        }
      },
      "275": {
        start: {
          line: 1069,
          column: 12
        },
        end: {
          line: 1073,
          column: 14
        }
      },
      "276": {
        start: {
          line: 1080,
          column: 8
        },
        end: {
          line: 1100,
          column: 9
        }
      },
      "277": {
        start: {
          line: 1081,
          column: 12
        },
        end: {
          line: 1086,
          column: 13
        }
      },
      "278": {
        start: {
          line: 1082,
          column: 16
        },
        end: {
          line: 1085,
          column: 18
        }
      },
      "279": {
        start: {
          line: 1088,
          column: 12
        },
        end: {
          line: 1092,
          column: 14
        }
      },
      "280": {
        start: {
          line: 1095,
          column: 12
        },
        end: {
          line: 1099,
          column: 14
        }
      },
      "281": {
        start: {
          line: 1106,
          column: 8
        },
        end: {
          line: 1119,
          column: 9
        }
      },
      "282": {
        start: {
          line: 1108,
          column: 16
        },
        end: {
          line: 1108,
          column: 62
        }
      },
      "283": {
        start: {
          line: 1111,
          column: 16
        },
        end: {
          line: 1111,
          column: 71
        }
      },
      "284": {
        start: {
          line: 1114,
          column: 16
        },
        end: {
          line: 1114,
          column: 62
        }
      },
      "285": {
        start: {
          line: 1117,
          column: 16
        },
        end: {
          line: 1117,
          column: 29
        }
      },
      "286": {
        start: {
          line: 1126,
          column: 8
        },
        end: {
          line: 1136,
          column: 9
        }
      },
      "287": {
        start: {
          line: 1127,
          column: 30
        },
        end: {
          line: 1127,
          column: 66
        }
      },
      "288": {
        start: {
          line: 1128,
          column: 30
        },
        end: {
          line: 1128,
          column: 60
        }
      },
      "289": {
        start: {
          line: 1129,
          column: 12
        },
        end: {
          line: 1131,
          column: 13
        }
      },
      "290": {
        start: {
          line: 1130,
          column: 16
        },
        end: {
          line: 1130,
          column: 63
        }
      },
      "291": {
        start: {
          line: 1132,
          column: 12
        },
        end: {
          line: 1132,
          column: 47
        }
      },
      "292": {
        start: {
          line: 1135,
          column: 12
        },
        end: {
          line: 1135,
          column: 73
        }
      },
      "293": {
        start: {
          line: 1142,
          column: 8
        },
        end: {
          line: 1160,
          column: 9
        }
      },
      "294": {
        start: {
          line: 1143,
          column: 36
        },
        end: {
          line: 1143,
          column: 76
        }
      },
      "295": {
        start: {
          line: 1144,
          column: 28
        },
        end: {
          line: 1144,
          column: 65
        }
      },
      "296": {
        start: {
          line: 1145,
          column: 12
        },
        end: {
          line: 1147,
          column: 13
        }
      },
      "297": {
        start: {
          line: 1146,
          column: 16
        },
        end: {
          line: 1146,
          column: 65
        }
      },
      "298": {
        start: {
          line: 1148,
          column: 12
        },
        end: {
          line: 1156,
          column: 14
        }
      },
      "299": {
        start: {
          line: 1159,
          column: 12
        },
        end: {
          line: 1159,
          column: 71
        }
      },
      "300": {
        start: {
          line: 1166,
          column: 8
        },
        end: {
          line: 1182,
          column: 9
        }
      },
      "301": {
        start: {
          line: 1167,
          column: 31
        },
        end: {
          line: 1167,
          column: 68
        }
      },
      "302": {
        start: {
          line: 1168,
          column: 27
        },
        end: {
          line: 1168,
          column: 59
        }
      },
      "303": {
        start: {
          line: 1169,
          column: 12
        },
        end: {
          line: 1171,
          column: 13
        }
      },
      "304": {
        start: {
          line: 1170,
          column: 16
        },
        end: {
          line: 1170,
          column: 64
        }
      },
      "305": {
        start: {
          line: 1172,
          column: 12
        },
        end: {
          line: 1178,
          column: 14
        }
      },
      "306": {
        start: {
          line: 1181,
          column: 12
        },
        end: {
          line: 1181,
          column: 70
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        loc: {
          start: {
            line: 17,
            column: 70
          },
          end: {
            line: 103,
            column: 5
          }
        },
        line: 17
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 107,
            column: 5
          }
        },
        loc: {
          start: {
            line: 107,
            column: 49
          },
          end: {
            line: 118,
            column: 5
          }
        },
        line: 107
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 123,
            column: 4
          },
          end: {
            line: 123,
            column: 5
          }
        },
        loc: {
          start: {
            line: 123,
            column: 60
          },
          end: {
            line: 130,
            column: 5
          }
        },
        line: 123
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 134,
            column: 4
          },
          end: {
            line: 134,
            column: 5
          }
        },
        loc: {
          start: {
            line: 134,
            column: 68
          },
          end: {
            line: 146,
            column: 5
          }
        },
        line: 134
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 150,
            column: 4
          },
          end: {
            line: 150,
            column: 5
          }
        },
        loc: {
          start: {
            line: 150,
            column: 60
          },
          end: {
            line: 157,
            column: 5
          }
        },
        line: 150
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 162,
            column: 4
          },
          end: {
            line: 162,
            column: 5
          }
        },
        loc: {
          start: {
            line: 162,
            column: 60
          },
          end: {
            line: 174,
            column: 5
          }
        },
        line: 162
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 178,
            column: 4
          },
          end: {
            line: 178,
            column: 5
          }
        },
        loc: {
          start: {
            line: 178,
            column: 77
          },
          end: {
            line: 193,
            column: 5
          }
        },
        line: 178
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 197,
            column: 5
          }
        },
        loc: {
          start: {
            line: 197,
            column: 55
          },
          end: {
            line: 255,
            column: 5
          }
        },
        line: 197
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 222,
            column: 58
          },
          end: {
            line: 222,
            column: 59
          }
        },
        loc: {
          start: {
            line: 222,
            column: 69
          },
          end: {
            line: 230,
            column: 25
          }
        },
        line: 222
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 260,
            column: 4
          },
          end: {
            line: 260,
            column: 5
          }
        },
        loc: {
          start: {
            line: 260,
            column: 118
          },
          end: {
            line: 430,
            column: 5
          }
        },
        line: 260
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 434,
            column: 4
          },
          end: {
            line: 434,
            column: 5
          }
        },
        loc: {
          start: {
            line: 434,
            column: 95
          },
          end: {
            line: 610,
            column: 5
          }
        },
        line: 434
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 614,
            column: 4
          },
          end: {
            line: 614,
            column: 5
          }
        },
        loc: {
          start: {
            line: 614,
            column: 49
          },
          end: {
            line: 677,
            column: 5
          }
        },
        line: 614
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 653,
            column: 45
          },
          end: {
            line: 653,
            column: 46
          }
        },
        loc: {
          start: {
            line: 653,
            column: 56
          },
          end: {
            line: 657,
            column: 17
          }
        },
        line: 653
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 681,
            column: 4
          },
          end: {
            line: 681,
            column: 5
          }
        },
        loc: {
          start: {
            line: 681,
            column: 77
          },
          end: {
            line: 716,
            column: 5
          }
        },
        line: 681
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 721,
            column: 4
          },
          end: {
            line: 721,
            column: 5
          }
        },
        loc: {
          start: {
            line: 721,
            column: 90
          },
          end: {
            line: 801,
            column: 5
          }
        },
        line: 721
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 805,
            column: 4
          },
          end: {
            line: 805,
            column: 5
          }
        },
        loc: {
          start: {
            line: 805,
            column: 62
          },
          end: {
            line: 920,
            column: 5
          }
        },
        line: 805
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 924,
            column: 4
          },
          end: {
            line: 924,
            column: 5
          }
        },
        loc: {
          start: {
            line: 924,
            column: 49
          },
          end: {
            line: 954,
            column: 5
          }
        },
        line: 924
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 933,
            column: 45
          },
          end: {
            line: 933,
            column: 46
          }
        },
        loc: {
          start: {
            line: 933,
            column: 58
          },
          end: {
            line: 933,
            column: 166
          }
        },
        line: 933
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 958,
            column: 4
          },
          end: {
            line: 958,
            column: 5
          }
        },
        loc: {
          start: {
            line: 958,
            column: 60
          },
          end: {
            line: 986,
            column: 5
          }
        },
        line: 958
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 990,
            column: 4
          },
          end: {
            line: 990,
            column: 5
          }
        },
        loc: {
          start: {
            line: 990,
            column: 66
          },
          end: {
            line: 1017,
            column: 5
          }
        },
        line: 990
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 1021,
            column: 4
          },
          end: {
            line: 1021,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1021,
            column: 48
          },
          end: {
            line: 1047,
            column: 5
          }
        },
        line: 1021
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 1051,
            column: 4
          },
          end: {
            line: 1051,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1051,
            column: 44
          },
          end: {
            line: 1075,
            column: 5
          }
        },
        line: 1051
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 1079,
            column: 4
          },
          end: {
            line: 1079,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1079,
            column: 48
          },
          end: {
            line: 1101,
            column: 5
          }
        },
        line: 1079
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 1105,
            column: 4
          },
          end: {
            line: 1105,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1105,
            column: 53
          },
          end: {
            line: 1120,
            column: 5
          }
        },
        line: 1105
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 1125,
            column: 4
          },
          end: {
            line: 1125,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1125,
            column: 46
          },
          end: {
            line: 1137,
            column: 5
          }
        },
        line: 1125
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 1141,
            column: 4
          },
          end: {
            line: 1141,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1141,
            column: 47
          },
          end: {
            line: 1161,
            column: 5
          }
        },
        line: 1141
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 1165,
            column: 4
          },
          end: {
            line: 1165,
            column: 5
          }
        },
        loc: {
          start: {
            line: 1165,
            column: 45
          },
          end: {
            line: 1183,
            column: 5
          }
        },
        line: 1165
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 34,
            column: 12
          },
          end: {
            line: 38,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 12
          },
          end: {
            line: 38,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "1": {
        loc: {
          start: {
            line: 39,
            column: 12
          },
          end: {
            line: 47,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 39,
            column: 12
          },
          end: {
            line: 47,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 39
      },
      "2": {
        loc: {
          start: {
            line: 39,
            column: 16
          },
          end: {
            line: 39,
            column: 86
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 39,
            column: 16
          },
          end: {
            line: 39,
            column: 40
          }
        }, {
          start: {
            line: 39,
            column: 44
          },
          end: {
            line: 39,
            column: 63
          }
        }, {
          start: {
            line: 39,
            column: 67
          },
          end: {
            line: 39,
            column: 86
          }
        }],
        line: 39
      },
      "3": {
        loc: {
          start: {
            line: 55,
            column: 12
          },
          end: {
            line: 84,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 55,
            column: 12
          },
          end: {
            line: 84,
            column: 13
          }
        }, {
          start: {
            line: 70,
            column: 17
          },
          end: {
            line: 84,
            column: 13
          }
        }],
        line: 55
      },
      "4": {
        loc: {
          start: {
            line: 55,
            column: 16
          },
          end: {
            line: 55,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 55,
            column: 16
          },
          end: {
            line: 55,
            column: 40
          }
        }, {
          start: {
            line: 55,
            column: 44
          },
          end: {
            line: 55,
            column: 79
          }
        }],
        line: 55
      },
      "5": {
        loc: {
          start: {
            line: 72,
            column: 160
          },
          end: {
            line: 72,
            column: 184
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 72,
            column: 160
          },
          end: {
            line: 72,
            column: 178
          }
        }, {
          start: {
            line: 72,
            column: 182
          },
          end: {
            line: 72,
            column: 184
          }
        }],
        line: 72
      },
      "6": {
        loc: {
          start: {
            line: 95,
            column: 35
          },
          end: {
            line: 95,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 95,
            column: 60
          },
          end: {
            line: 95,
            column: 73
          }
        }, {
          start: {
            line: 95,
            column: 76
          },
          end: {
            line: 95,
            column: 89
          }
        }],
        line: 95
      },
      "7": {
        loc: {
          start: {
            line: 99,
            column: 31
          },
          end: {
            line: 99,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 99,
            column: 56
          },
          end: {
            line: 99,
            column: 69
          }
        }, {
          start: {
            line: 99,
            column: 72
          },
          end: {
            line: 99,
            column: 85
          }
        }],
        line: 99
      },
      "8": {
        loc: {
          start: {
            line: 113,
            column: 19
          },
          end: {
            line: 113,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 113,
            column: 69
          },
          end: {
            line: 113,
            column: 88
          }
        }, {
          start: {
            line: 113,
            column: 91
          },
          end: {
            line: 113,
            column: 95
          }
        }],
        line: 113
      },
      "9": {
        loc: {
          start: {
            line: 113,
            column: 19
          },
          end: {
            line: 113,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 113,
            column: 19
          },
          end: {
            line: 113,
            column: 35
          }
        }, {
          start: {
            line: 113,
            column: 39
          },
          end: {
            line: 113,
            column: 66
          }
        }],
        line: 113
      },
      "10": {
        loc: {
          start: {
            line: 125,
            column: 132
          },
          end: {
            line: 125,
            column: 160
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 125,
            column: 132
          },
          end: {
            line: 125,
            column: 154
          }
        }, {
          start: {
            line: 125,
            column: 158
          },
          end: {
            line: 125,
            column: 160
          }
        }],
        line: 125
      },
      "11": {
        loc: {
          start: {
            line: 137,
            column: 12
          },
          end: {
            line: 139,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 137,
            column: 12
          },
          end: {
            line: 139,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 137
      },
      "12": {
        loc: {
          start: {
            line: 141,
            column: 19
          },
          end: {
            line: 141,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 141,
            column: 19
          },
          end: {
            line: 141,
            column: 34
          }
        }, {
          start: {
            line: 141,
            column: 38
          },
          end: {
            line: 141,
            column: 40
          }
        }],
        line: 141
      },
      "13": {
        loc: {
          start: {
            line: 164,
            column: 142
          },
          end: {
            line: 164,
            column: 170
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 164,
            column: 142
          },
          end: {
            line: 164,
            column: 164
          }
        }, {
          start: {
            line: 164,
            column: 168
          },
          end: {
            line: 164,
            column: 170
          }
        }],
        line: 164
      },
      "14": {
        loc: {
          start: {
            line: 166,
            column: 12
          },
          end: {
            line: 168,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 166,
            column: 12
          },
          end: {
            line: 168,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 166
      },
      "15": {
        loc: {
          start: {
            line: 181,
            column: 12
          },
          end: {
            line: 183,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 181,
            column: 12
          },
          end: {
            line: 183,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 181
      },
      "16": {
        loc: {
          start: {
            line: 184,
            column: 12
          },
          end: {
            line: 186,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 184,
            column: 12
          },
          end: {
            line: 186,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 184
      },
      "17": {
        loc: {
          start: {
            line: 188,
            column: 19
          },
          end: {
            line: 188,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 188,
            column: 19
          },
          end: {
            line: 188,
            column: 33
          }
        }, {
          start: {
            line: 188,
            column: 37
          },
          end: {
            line: 188,
            column: 39
          }
        }],
        line: 188
      },
      "18": {
        loc: {
          start: {
            line: 200,
            column: 12
          },
          end: {
            line: 202,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 200,
            column: 12
          },
          end: {
            line: 202,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 200
      },
      "19": {
        loc: {
          start: {
            line: 204,
            column: 29
          },
          end: {
            line: 206,
            column: 66
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 205,
            column: 18
          },
          end: {
            line: 205,
            column: 46
          }
        }, {
          start: {
            line: 206,
            column: 18
          },
          end: {
            line: 206,
            column: 66
          }
        }],
        line: 204
      },
      "20": {
        loc: {
          start: {
            line: 215,
            column: 16
          },
          end: {
            line: 248,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 16
          },
          end: {
            line: 248,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "21": {
        loc: {
          start: {
            line: 215,
            column: 20
          },
          end: {
            line: 215,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 215,
            column: 20
          },
          end: {
            line: 215,
            column: 37
          }
        }, {
          start: {
            line: 215,
            column: 41
          },
          end: {
            line: 215,
            column: 70
          }
        }],
        line: 215
      },
      "22": {
        loc: {
          start: {
            line: 279,
            column: 12
          },
          end: {
            line: 288,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 279,
            column: 12
          },
          end: {
            line: 288,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 279
      },
      "23": {
        loc: {
          start: {
            line: 279,
            column: 16
          },
          end: {
            line: 279,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 279,
            column: 16
          },
          end: {
            line: 279,
            column: 26
          }
        }, {
          start: {
            line: 279,
            column: 30
          },
          end: {
            line: 279,
            column: 37
          }
        }, {
          start: {
            line: 279,
            column: 41
          },
          end: {
            line: 279,
            column: 52
          }
        }, {
          start: {
            line: 279,
            column: 56
          },
          end: {
            line: 279,
            column: 64
          }
        }],
        line: 279
      },
      "24": {
        loc: {
          start: {
            line: 289,
            column: 12
          },
          end: {
            line: 293,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 289,
            column: 12
          },
          end: {
            line: 293,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 289
      },
      "25": {
        loc: {
          start: {
            line: 296,
            column: 12
          },
          end: {
            line: 298,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 296,
            column: 12
          },
          end: {
            line: 298,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 296
      },
      "26": {
        loc: {
          start: {
            line: 301,
            column: 12
          },
          end: {
            line: 306,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 301,
            column: 12
          },
          end: {
            line: 306,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 301
      },
      "27": {
        loc: {
          start: {
            line: 309,
            column: 12
          },
          end: {
            line: 314,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 309,
            column: 12
          },
          end: {
            line: 314,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 309
      },
      "28": {
        loc: {
          start: {
            line: 344,
            column: 12
          },
          end: {
            line: 363,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 345,
            column: 16
          },
          end: {
            line: 348,
            column: 17
          }
        }, {
          start: {
            line: 349,
            column: 16
          },
          end: {
            line: 352,
            column: 17
          }
        }, {
          start: {
            line: 353,
            column: 16
          },
          end: {
            line: 356,
            column: 17
          }
        }, {
          start: {
            line: 357,
            column: 16
          },
          end: {
            line: 362,
            column: 17
          }
        }],
        line: 344
      },
      "29": {
        loc: {
          start: {
            line: 421,
            column: 35
          },
          end: {
            line: 421,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 421,
            column: 60
          },
          end: {
            line: 421,
            column: 73
          }
        }, {
          start: {
            line: 421,
            column: 76
          },
          end: {
            line: 421,
            column: 89
          }
        }],
        line: 421
      },
      "30": {
        loc: {
          start: {
            line: 425,
            column: 31
          },
          end: {
            line: 425,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 425,
            column: 56
          },
          end: {
            line: 425,
            column: 69
          }
        }, {
          start: {
            line: 425,
            column: 72
          },
          end: {
            line: 425,
            column: 85
          }
        }],
        line: 425
      },
      "31": {
        loc: {
          start: {
            line: 438,
            column: 12
          },
          end: {
            line: 446,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 438,
            column: 12
          },
          end: {
            line: 446,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 438
      },
      "32": {
        loc: {
          start: {
            line: 438,
            column: 16
          },
          end: {
            line: 438,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 438,
            column: 16
          },
          end: {
            line: 438,
            column: 31
          }
        }, {
          start: {
            line: 438,
            column: 35
          },
          end: {
            line: 438,
            column: 46
          }
        }, {
          start: {
            line: 438,
            column: 50
          },
          end: {
            line: 438,
            column: 60
          }
        }],
        line: 438
      },
      "33": {
        loc: {
          start: {
            line: 448,
            column: 12
          },
          end: {
            line: 452,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 448,
            column: 12
          },
          end: {
            line: 452,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 448
      },
      "34": {
        loc: {
          start: {
            line: 454,
            column: 12
          },
          end: {
            line: 459,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 454,
            column: 12
          },
          end: {
            line: 459,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 454
      },
      "35": {
        loc: {
          start: {
            line: 462,
            column: 12
          },
          end: {
            line: 467,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 462,
            column: 12
          },
          end: {
            line: 467,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 462
      },
      "36": {
        loc: {
          start: {
            line: 471,
            column: 12
          },
          end: {
            line: 499,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 472,
            column: 16
          },
          end: {
            line: 481,
            column: 17
          }
        }, {
          start: {
            line: 482,
            column: 16
          },
          end: {
            line: 485,
            column: 17
          }
        }, {
          start: {
            line: 486,
            column: 16
          },
          end: {
            line: 495,
            column: 17
          }
        }, {
          start: {
            line: 496,
            column: 16
          },
          end: {
            line: 498,
            column: 17
          }
        }],
        line: 471
      },
      "37": {
        loc: {
          start: {
            line: 500,
            column: 12
          },
          end: {
            line: 589,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 500,
            column: 12
          },
          end: {
            line: 589,
            column: 13
          }
        }, {
          start: {
            line: 559,
            column: 17
          },
          end: {
            line: 589,
            column: 13
          }
        }],
        line: 500
      },
      "38": {
        loc: {
          start: {
            line: 596,
            column: 25
          },
          end: {
            line: 596,
            column: 63
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 596,
            column: 42
          },
          end: {
            line: 596,
            column: 51
          }
        }, {
          start: {
            line: 596,
            column: 54
          },
          end: {
            line: 596,
            column: 63
          }
        }],
        line: 596
      },
      "39": {
        loc: {
          start: {
            line: 601,
            column: 35
          },
          end: {
            line: 601,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 601,
            column: 60
          },
          end: {
            line: 601,
            column: 73
          }
        }, {
          start: {
            line: 601,
            column: 76
          },
          end: {
            line: 601,
            column: 89
          }
        }],
        line: 601
      },
      "40": {
        loc: {
          start: {
            line: 605,
            column: 31
          },
          end: {
            line: 605,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 605,
            column: 56
          },
          end: {
            line: 605,
            column: 69
          }
        }, {
          start: {
            line: 605,
            column: 72
          },
          end: {
            line: 605,
            column: 85
          }
        }],
        line: 605
      },
      "41": {
        loc: {
          start: {
            line: 617,
            column: 12
          },
          end: {
            line: 619,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 617,
            column: 12
          },
          end: {
            line: 619,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 617
      },
      "42": {
        loc: {
          start: {
            line: 621,
            column: 12
          },
          end: {
            line: 623,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 621,
            column: 12
          },
          end: {
            line: 623,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 621
      },
      "43": {
        loc: {
          start: {
            line: 684,
            column: 12
          },
          end: {
            line: 686,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 684,
            column: 12
          },
          end: {
            line: 686,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 684
      },
      "44": {
        loc: {
          start: {
            line: 689,
            column: 12
          },
          end: {
            line: 691,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 689,
            column: 12
          },
          end: {
            line: 691,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 689
      },
      "45": {
        loc: {
          start: {
            line: 692,
            column: 12
          },
          end: {
            line: 694,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 692,
            column: 12
          },
          end: {
            line: 694,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 692
      },
      "46": {
        loc: {
          start: {
            line: 695,
            column: 12
          },
          end: {
            line: 697,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 695,
            column: 12
          },
          end: {
            line: 697,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 695
      },
      "47": {
        loc: {
          start: {
            line: 700,
            column: 12
          },
          end: {
            line: 702,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 700,
            column: 12
          },
          end: {
            line: 702,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 700
      },
      "48": {
        loc: {
          start: {
            line: 703,
            column: 12
          },
          end: {
            line: 705,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 703,
            column: 12
          },
          end: {
            line: 705,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 703
      },
      "49": {
        loc: {
          start: {
            line: 708,
            column: 22
          },
          end: {
            line: 708,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 708,
            column: 22
          },
          end: {
            line: 708,
            column: 31
          }
        }, {
          start: {
            line: 708,
            column: 35
          },
          end: {
            line: 708,
            column: 37
          }
        }],
        line: 708
      },
      "50": {
        loc: {
          start: {
            line: 709,
            column: 30
          },
          end: {
            line: 709,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 709,
            column: 30
          },
          end: {
            line: 709,
            column: 47
          }
        }, {
          start: {
            line: 709,
            column: 51
          },
          end: {
            line: 709,
            column: 53
          }
        }],
        line: 709
      },
      "51": {
        loc: {
          start: {
            line: 710,
            column: 26
          },
          end: {
            line: 710,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 710,
            column: 26
          },
          end: {
            line: 710,
            column: 39
          }
        }, {
          start: {
            line: 710,
            column: 43
          },
          end: {
            line: 710,
            column: 45
          }
        }],
        line: 710
      },
      "52": {
        loc: {
          start: {
            line: 721,
            column: 74
          },
          end: {
            line: 721,
            column: 88
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 721,
            column: 84
          },
          end: {
            line: 721,
            column: 88
          }
        }],
        line: 721
      },
      "53": {
        loc: {
          start: {
            line: 738,
            column: 12
          },
          end: {
            line: 746,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 738,
            column: 12
          },
          end: {
            line: 746,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 738
      },
      "54": {
        loc: {
          start: {
            line: 738,
            column: 16
          },
          end: {
            line: 738,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 738,
            column: 16
          },
          end: {
            line: 738,
            column: 26
          }
        }, {
          start: {
            line: 738,
            column: 30
          },
          end: {
            line: 738,
            column: 38
          }
        }, {
          start: {
            line: 738,
            column: 42
          },
          end: {
            line: 738,
            column: 54
          }
        }],
        line: 738
      },
      "55": {
        loc: {
          start: {
            line: 748,
            column: 12
          },
          end: {
            line: 750,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 748,
            column: 12
          },
          end: {
            line: 750,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 748
      },
      "56": {
        loc: {
          start: {
            line: 793,
            column: 35
          },
          end: {
            line: 793,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 793,
            column: 60
          },
          end: {
            line: 793,
            column: 73
          }
        }, {
          start: {
            line: 793,
            column: 76
          },
          end: {
            line: 793,
            column: 89
          }
        }],
        line: 793
      },
      "57": {
        loc: {
          start: {
            line: 797,
            column: 31
          },
          end: {
            line: 797,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 797,
            column: 56
          },
          end: {
            line: 797,
            column: 69
          }
        }, {
          start: {
            line: 797,
            column: 72
          },
          end: {
            line: 797,
            column: 85
          }
        }],
        line: 797
      },
      "58": {
        loc: {
          start: {
            line: 820,
            column: 12
          },
          end: {
            line: 832,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 820,
            column: 12
          },
          end: {
            line: 832,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 820
      },
      "59": {
        loc: {
          start: {
            line: 820,
            column: 16
          },
          end: {
            line: 820,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 820,
            column: 16
          },
          end: {
            line: 820,
            column: 26
          }
        }, {
          start: {
            line: 820,
            column: 30
          },
          end: {
            line: 820,
            column: 38
          }
        }],
        line: 820
      },
      "60": {
        loc: {
          start: {
            line: 834,
            column: 12
          },
          end: {
            line: 839,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 834,
            column: 12
          },
          end: {
            line: 839,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 834
      },
      "61": {
        loc: {
          start: {
            line: 842,
            column: 12
          },
          end: {
            line: 844,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 842,
            column: 12
          },
          end: {
            line: 844,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 842
      },
      "62": {
        loc: {
          start: {
            line: 845,
            column: 12
          },
          end: {
            line: 847,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 845,
            column: 12
          },
          end: {
            line: 847,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 845
      },
      "63": {
        loc: {
          start: {
            line: 850,
            column: 12
          },
          end: {
            line: 866,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 851,
            column: 16
          },
          end: {
            line: 854,
            column: 17
          }
        }, {
          start: {
            line: 855,
            column: 16
          },
          end: {
            line: 858,
            column: 17
          }
        }, {
          start: {
            line: 859,
            column: 16
          },
          end: {
            line: 862,
            column: 17
          }
        }, {
          start: {
            line: 863,
            column: 16
          },
          end: {
            line: 865,
            column: 17
          }
        }],
        line: 850
      },
      "64": {
        loc: {
          start: {
            line: 870,
            column: 29
          },
          end: {
            line: 870,
            column: 70
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 870,
            column: 50
          },
          end: {
            line: 870,
            column: 59
          }
        }, {
          start: {
            line: 870,
            column: 62
          },
          end: {
            line: 870,
            column: 70
          }
        }],
        line: 870
      },
      "65": {
        loc: {
          start: {
            line: 883,
            column: 26
          },
          end: {
            line: 883,
            column: 63
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 883,
            column: 47
          },
          end: {
            line: 883,
            column: 52
          }
        }, {
          start: {
            line: 883,
            column: 55
          },
          end: {
            line: 883,
            column: 63
          }
        }],
        line: 883
      },
      "66": {
        loc: {
          start: {
            line: 908,
            column: 35
          },
          end: {
            line: 908,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 908,
            column: 60
          },
          end: {
            line: 908,
            column: 73
          }
        }, {
          start: {
            line: 908,
            column: 76
          },
          end: {
            line: 908,
            column: 89
          }
        }],
        line: 908
      },
      "67": {
        loc: {
          start: {
            line: 912,
            column: 31
          },
          end: {
            line: 912,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 912,
            column: 56
          },
          end: {
            line: 912,
            column: 69
          }
        }, {
          start: {
            line: 912,
            column: 72
          },
          end: {
            line: 912,
            column: 85
          }
        }],
        line: 912
      },
      "68": {
        loc: {
          start: {
            line: 927,
            column: 12
          },
          end: {
            line: 929,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 927,
            column: 12
          },
          end: {
            line: 929,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 927
      },
      "69": {
        loc: {
          start: {
            line: 932,
            column: 42
          },
          end: {
            line: 932,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 932,
            column: 42
          },
          end: {
            line: 932,
            column: 55
          }
        }, {
          start: {
            line: 932,
            column: 59
          },
          end: {
            line: 932,
            column: 61
          }
        }],
        line: 932
      },
      "70": {
        loc: {
          start: {
            line: 933,
            column: 76
          },
          end: {
            line: 933,
            column: 153
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 933,
            column: 134
          },
          end: {
            line: 933,
            column: 140
          }
        }, {
          start: {
            line: 933,
            column: 143
          },
          end: {
            line: 933,
            column: 153
          }
        }],
        line: 933
      },
      "71": {
        loc: {
          start: {
            line: 933,
            column: 76
          },
          end: {
            line: 933,
            column: 131
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 933,
            column: 76
          },
          end: {
            line: 933,
            column: 114
          }
        }, {
          start: {
            line: 933,
            column: 118
          },
          end: {
            line: 933,
            column: 131
          }
        }],
        line: 933
      },
      "72": {
        loc: {
          start: {
            line: 939,
            column: 29
          },
          end: {
            line: 939,
            column: 102
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 939,
            column: 30
          },
          end: {
            line: 939,
            column: 92
          }
        }, {
          start: {
            line: 939,
            column: 97
          },
          end: {
            line: 939,
            column: 102
          }
        }],
        line: 939
      },
      "73": {
        loc: {
          start: {
            line: 939,
            column: 30
          },
          end: {
            line: 939,
            column: 92
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 939,
            column: 69
          },
          end: {
            line: 939,
            column: 75
          }
        }, {
          start: {
            line: 939,
            column: 78
          },
          end: {
            line: 939,
            column: 92
          }
        }],
        line: 939
      },
      "74": {
        loc: {
          start: {
            line: 939,
            column: 30
          },
          end: {
            line: 939,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 939,
            column: 30
          },
          end: {
            line: 939,
            column: 45
          }
        }, {
          start: {
            line: 939,
            column: 49
          },
          end: {
            line: 939,
            column: 66
          }
        }],
        line: 939
      },
      "75": {
        loc: {
          start: {
            line: 940,
            column: 32
          },
          end: {
            line: 940,
            column: 108
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 940,
            column: 33
          },
          end: {
            line: 940,
            column: 98
          }
        }, {
          start: {
            line: 940,
            column: 103
          },
          end: {
            line: 940,
            column: 108
          }
        }],
        line: 940
      },
      "76": {
        loc: {
          start: {
            line: 940,
            column: 33
          },
          end: {
            line: 940,
            column: 98
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 940,
            column: 72
          },
          end: {
            line: 940,
            column: 78
          }
        }, {
          start: {
            line: 940,
            column: 81
          },
          end: {
            line: 940,
            column: 98
          }
        }],
        line: 940
      },
      "77": {
        loc: {
          start: {
            line: 940,
            column: 33
          },
          end: {
            line: 940,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 940,
            column: 33
          },
          end: {
            line: 940,
            column: 48
          }
        }, {
          start: {
            line: 940,
            column: 52
          },
          end: {
            line: 940,
            column: 69
          }
        }],
        line: 940
      },
      "78": {
        loc: {
          start: {
            line: 941,
            column: 33
          },
          end: {
            line: 941,
            column: 109
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 941,
            column: 34
          },
          end: {
            line: 941,
            column: 100
          }
        }, {
          start: {
            line: 941,
            column: 105
          },
          end: {
            line: 941,
            column: 109
          }
        }],
        line: 941
      },
      "79": {
        loc: {
          start: {
            line: 941,
            column: 34
          },
          end: {
            line: 941,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 941,
            column: 73
          },
          end: {
            line: 941,
            column: 79
          }
        }, {
          start: {
            line: 941,
            column: 82
          },
          end: {
            line: 941,
            column: 100
          }
        }],
        line: 941
      },
      "80": {
        loc: {
          start: {
            line: 941,
            column: 34
          },
          end: {
            line: 941,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 941,
            column: 34
          },
          end: {
            line: 941,
            column: 49
          }
        }, {
          start: {
            line: 941,
            column: 53
          },
          end: {
            line: 941,
            column: 70
          }
        }],
        line: 941
      },
      "81": {
        loc: {
          start: {
            line: 942,
            column: 33
          },
          end: {
            line: 942,
            column: 115
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 942,
            column: 34
          },
          end: {
            line: 942,
            column: 100
          }
        }, {
          start: {
            line: 942,
            column: 105
          },
          end: {
            line: 942,
            column: 115
          }
        }],
        line: 942
      },
      "82": {
        loc: {
          start: {
            line: 942,
            column: 34
          },
          end: {
            line: 942,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 942,
            column: 73
          },
          end: {
            line: 942,
            column: 79
          }
        }, {
          start: {
            line: 942,
            column: 82
          },
          end: {
            line: 942,
            column: 100
          }
        }],
        line: 942
      },
      "83": {
        loc: {
          start: {
            line: 942,
            column: 34
          },
          end: {
            line: 942,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 942,
            column: 34
          },
          end: {
            line: 942,
            column: 49
          }
        }, {
          start: {
            line: 942,
            column: 53
          },
          end: {
            line: 942,
            column: 70
          }
        }],
        line: 942
      },
      "84": {
        loc: {
          start: {
            line: 961,
            column: 12
          },
          end: {
            line: 963,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 961,
            column: 12
          },
          end: {
            line: 963,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 961
      },
      "85": {
        loc: {
          start: {
            line: 966,
            column: 12
          },
          end: {
            line: 968,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 966,
            column: 12
          },
          end: {
            line: 968,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 966
      },
      "86": {
        loc: {
          start: {
            line: 970,
            column: 12
          },
          end: {
            line: 975,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 970,
            column: 12
          },
          end: {
            line: 975,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 970
      },
      "87": {
        loc: {
          start: {
            line: 972,
            column: 16
          },
          end: {
            line: 974,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 972,
            column: 16
          },
          end: {
            line: 974,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 972
      },
      "88": {
        loc: {
          start: {
            line: 991,
            column: 8
          },
          end: {
            line: 1016,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 992,
            column: 12
          },
          end: {
            line: 1000,
            column: 13
          }
        }, {
          start: {
            line: 1001,
            column: 12
          },
          end: {
            line: 1006,
            column: 13
          }
        }, {
          start: {
            line: 1007,
            column: 12
          },
          end: {
            line: 1012,
            column: 13
          }
        }, {
          start: {
            line: 1013,
            column: 12
          },
          end: {
            line: 1015,
            column: 13
          }
        }],
        line: 991
      },
      "89": {
        loc: {
          start: {
            line: 993,
            column: 16
          },
          end: {
            line: 995,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 993,
            column: 16
          },
          end: {
            line: 995,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 993
      },
      "90": {
        loc: {
          start: {
            line: 993,
            column: 20
          },
          end: {
            line: 993,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 993,
            column: 20
          },
          end: {
            line: 993,
            column: 39
          }
        }, {
          start: {
            line: 993,
            column: 43
          },
          end: {
            line: 993,
            column: 66
          }
        }],
        line: 993
      },
      "91": {
        loc: {
          start: {
            line: 996,
            column: 16
          },
          end: {
            line: 998,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 996,
            column: 16
          },
          end: {
            line: 998,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 996
      },
      "92": {
        loc: {
          start: {
            line: 1002,
            column: 16
          },
          end: {
            line: 1004,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1002,
            column: 16
          },
          end: {
            line: 1004,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1002
      },
      "93": {
        loc: {
          start: {
            line: 1002,
            column: 20
          },
          end: {
            line: 1002,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1002,
            column: 20
          },
          end: {
            line: 1002,
            column: 45
          }
        }, {
          start: {
            line: 1002,
            column: 49
          },
          end: {
            line: 1002,
            column: 75
          }
        }],
        line: 1002
      },
      "94": {
        loc: {
          start: {
            line: 1008,
            column: 16
          },
          end: {
            line: 1010,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1008,
            column: 16
          },
          end: {
            line: 1010,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1008
      },
      "95": {
        loc: {
          start: {
            line: 1008,
            column: 20
          },
          end: {
            line: 1008,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1008,
            column: 20
          },
          end: {
            line: 1008,
            column: 39
          }
        }, {
          start: {
            line: 1008,
            column: 43
          },
          end: {
            line: 1008,
            column: 66
          }
        }],
        line: 1008
      },
      "96": {
        loc: {
          start: {
            line: 1025,
            column: 12
          },
          end: {
            line: 1030,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1025,
            column: 12
          },
          end: {
            line: 1030,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1025
      },
      "97": {
        loc: {
          start: {
            line: 1025,
            column: 16
          },
          end: {
            line: 1025,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1025,
            column: 16
          },
          end: {
            line: 1025,
            column: 30
          }
        }, {
          start: {
            line: 1025,
            column: 34
          },
          end: {
            line: 1025,
            column: 52
          }
        }],
        line: 1025
      },
      "98": {
        loc: {
          start: {
            line: 1053,
            column: 12
          },
          end: {
            line: 1055,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1053,
            column: 12
          },
          end: {
            line: 1055,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1053
      },
      "99": {
        loc: {
          start: {
            line: 1053,
            column: 16
          },
          end: {
            line: 1053,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1053,
            column: 16
          },
          end: {
            line: 1053,
            column: 36
          }
        }, {
          start: {
            line: 1053,
            column: 40
          },
          end: {
            line: 1053,
            column: 61
          }
        }],
        line: 1053
      },
      "100": {
        loc: {
          start: {
            line: 1081,
            column: 12
          },
          end: {
            line: 1086,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1081,
            column: 12
          },
          end: {
            line: 1086,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1081
      },
      "101": {
        loc: {
          start: {
            line: 1081,
            column: 16
          },
          end: {
            line: 1081,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1081,
            column: 16
          },
          end: {
            line: 1081,
            column: 30
          }
        }, {
          start: {
            line: 1081,
            column: 34
          },
          end: {
            line: 1081,
            column: 52
          }
        }],
        line: 1081
      },
      "102": {
        loc: {
          start: {
            line: 1106,
            column: 8
          },
          end: {
            line: 1119,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 1107,
            column: 12
          },
          end: {
            line: 1109,
            column: 13
          }
        }, {
          start: {
            line: 1110,
            column: 12
          },
          end: {
            line: 1112,
            column: 13
          }
        }, {
          start: {
            line: 1113,
            column: 12
          },
          end: {
            line: 1115,
            column: 13
          }
        }, {
          start: {
            line: 1116,
            column: 12
          },
          end: {
            line: 1118,
            column: 13
          }
        }],
        line: 1106
      },
      "103": {
        loc: {
          start: {
            line: 1108,
            column: 26
          },
          end: {
            line: 1108,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1108,
            column: 26
          },
          end: {
            line: 1108,
            column: 39
          }
        }, {
          start: {
            line: 1108,
            column: 43
          },
          end: {
            line: 1108,
            column: 60
          }
        }],
        line: 1108
      },
      "104": {
        loc: {
          start: {
            line: 1111,
            column: 26
          },
          end: {
            line: 1111,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1111,
            column: 26
          },
          end: {
            line: 1111,
            column: 45
          }
        }, {
          start: {
            line: 1111,
            column: 49
          },
          end: {
            line: 1111,
            column: 69
          }
        }],
        line: 1111
      },
      "105": {
        loc: {
          start: {
            line: 1114,
            column: 26
          },
          end: {
            line: 1114,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1114,
            column: 26
          },
          end: {
            line: 1114,
            column: 39
          }
        }, {
          start: {
            line: 1114,
            column: 43
          },
          end: {
            line: 1114,
            column: 60
          }
        }],
        line: 1114
      },
      "106": {
        loc: {
          start: {
            line: 1129,
            column: 12
          },
          end: {
            line: 1131,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1129,
            column: 12
          },
          end: {
            line: 1131,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1129
      },
      "107": {
        loc: {
          start: {
            line: 1129,
            column: 16
          },
          end: {
            line: 1129,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1129,
            column: 16
          },
          end: {
            line: 1129,
            column: 26
          }
        }, {
          start: {
            line: 1129,
            column: 30
          },
          end: {
            line: 1129,
            column: 50
          }
        }, {
          start: {
            line: 1129,
            column: 54
          },
          end: {
            line: 1129,
            column: 74
          }
        }],
        line: 1129
      },
      "108": {
        loc: {
          start: {
            line: 1132,
            column: 19
          },
          end: {
            line: 1132,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1132,
            column: 19
          },
          end: {
            line: 1132,
            column: 40
          }
        }, {
          start: {
            line: 1132,
            column: 44
          },
          end: {
            line: 1132,
            column: 46
          }
        }],
        line: 1132
      },
      "109": {
        loc: {
          start: {
            line: 1145,
            column: 12
          },
          end: {
            line: 1147,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1145,
            column: 12
          },
          end: {
            line: 1147,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1145
      },
      "110": {
        loc: {
          start: {
            line: 1145,
            column: 16
          },
          end: {
            line: 1145,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1145,
            column: 16
          },
          end: {
            line: 1145,
            column: 24
          }
        }, {
          start: {
            line: 1145,
            column: 28
          },
          end: {
            line: 1145,
            column: 59
          }
        }, {
          start: {
            line: 1145,
            column: 63
          },
          end: {
            line: 1145,
            column: 81
          }
        }],
        line: 1145
      },
      "111": {
        loc: {
          start: {
            line: 1169,
            column: 12
          },
          end: {
            line: 1171,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 1169,
            column: 12
          },
          end: {
            line: 1171,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 1169
      },
      "112": {
        loc: {
          start: {
            line: 1169,
            column: 16
          },
          end: {
            line: 1169,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1169,
            column: 16
          },
          end: {
            line: 1169,
            column: 23
          }
        }, {
          start: {
            line: 1169,
            column: 27
          },
          end: {
            line: 1169,
            column: 44
          }
        }, {
          start: {
            line: 1169,
            column: 48
          },
          end: {
            line: 1169,
            column: 65
          }
        }],
        line: 1169
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0,
      "172": 0,
      "173": 0,
      "174": 0,
      "175": 0,
      "176": 0,
      "177": 0,
      "178": 0,
      "179": 0,
      "180": 0,
      "181": 0,
      "182": 0,
      "183": 0,
      "184": 0,
      "185": 0,
      "186": 0,
      "187": 0,
      "188": 0,
      "189": 0,
      "190": 0,
      "191": 0,
      "192": 0,
      "193": 0,
      "194": 0,
      "195": 0,
      "196": 0,
      "197": 0,
      "198": 0,
      "199": 0,
      "200": 0,
      "201": 0,
      "202": 0,
      "203": 0,
      "204": 0,
      "205": 0,
      "206": 0,
      "207": 0,
      "208": 0,
      "209": 0,
      "210": 0,
      "211": 0,
      "212": 0,
      "213": 0,
      "214": 0,
      "215": 0,
      "216": 0,
      "217": 0,
      "218": 0,
      "219": 0,
      "220": 0,
      "221": 0,
      "222": 0,
      "223": 0,
      "224": 0,
      "225": 0,
      "226": 0,
      "227": 0,
      "228": 0,
      "229": 0,
      "230": 0,
      "231": 0,
      "232": 0,
      "233": 0,
      "234": 0,
      "235": 0,
      "236": 0,
      "237": 0,
      "238": 0,
      "239": 0,
      "240": 0,
      "241": 0,
      "242": 0,
      "243": 0,
      "244": 0,
      "245": 0,
      "246": 0,
      "247": 0,
      "248": 0,
      "249": 0,
      "250": 0,
      "251": 0,
      "252": 0,
      "253": 0,
      "254": 0,
      "255": 0,
      "256": 0,
      "257": 0,
      "258": 0,
      "259": 0,
      "260": 0,
      "261": 0,
      "262": 0,
      "263": 0,
      "264": 0,
      "265": 0,
      "266": 0,
      "267": 0,
      "268": 0,
      "269": 0,
      "270": 0,
      "271": 0,
      "272": 0,
      "273": 0,
      "274": 0,
      "275": 0,
      "276": 0,
      "277": 0,
      "278": 0,
      "279": 0,
      "280": 0,
      "281": 0,
      "282": 0,
      "283": 0,
      "284": 0,
      "285": 0,
      "286": 0,
      "287": 0,
      "288": 0,
      "289": 0,
      "290": 0,
      "291": 0,
      "292": 0,
      "293": 0,
      "294": 0,
      "295": 0,
      "296": 0,
      "297": 0,
      "298": 0,
      "299": 0,
      "300": 0,
      "301": 0,
      "302": 0,
      "303": 0,
      "304": 0,
      "305": 0,
      "306": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0, 0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0, 0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0, 0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0],
      "47": [0, 0],
      "48": [0, 0],
      "49": [0, 0],
      "50": [0, 0],
      "51": [0, 0],
      "52": [0],
      "53": [0, 0],
      "54": [0, 0, 0],
      "55": [0, 0],
      "56": [0, 0],
      "57": [0, 0],
      "58": [0, 0],
      "59": [0, 0],
      "60": [0, 0],
      "61": [0, 0],
      "62": [0, 0],
      "63": [0, 0, 0, 0],
      "64": [0, 0],
      "65": [0, 0],
      "66": [0, 0],
      "67": [0, 0],
      "68": [0, 0],
      "69": [0, 0],
      "70": [0, 0],
      "71": [0, 0],
      "72": [0, 0],
      "73": [0, 0],
      "74": [0, 0],
      "75": [0, 0],
      "76": [0, 0],
      "77": [0, 0],
      "78": [0, 0],
      "79": [0, 0],
      "80": [0, 0],
      "81": [0, 0],
      "82": [0, 0],
      "83": [0, 0],
      "84": [0, 0],
      "85": [0, 0],
      "86": [0, 0],
      "87": [0, 0],
      "88": [0, 0, 0, 0],
      "89": [0, 0],
      "90": [0, 0],
      "91": [0, 0],
      "92": [0, 0],
      "93": [0, 0],
      "94": [0, 0],
      "95": [0, 0],
      "96": [0, 0],
      "97": [0, 0],
      "98": [0, 0],
      "99": [0, 0],
      "100": [0, 0],
      "101": [0, 0],
      "102": [0, 0, 0, 0],
      "103": [0, 0],
      "104": [0, 0],
      "105": [0, 0],
      "106": [0, 0],
      "107": [0, 0, 0],
      "108": [0, 0],
      "109": [0, 0],
      "110": [0, 0, 0],
      "111": [0, 0],
      "112": [0, 0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f69240838d9b449975297b9122ddbd14cb94b9ec"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_9ho3sok97 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_9ho3sok97();
import { Fee } from "@/models/fee.model";
import { FeeCategory } from "@/models/fee_category.model";
import { FeeTemplate } from "@/models/fee_template.model";
import { PaymentInvoice } from "@/models/payment_invoice.model";
import { PaymentTransaction } from "@/models/payment_transaction.model";
import { SchoolBankDetails } from "@/models/school_bank_details.model";
import crypto from "node:crypto";
import PaymentErrorHandler from "./payment_error_handler.service";
import { PaymentGatewayService } from "./payment_gateway.service";
import PaymentSecurityMonitor from "./payment_security_monitor.service";
import { SecurePaymentCredentialService } from "./secure_payment_credential.service";
export class PaymentService {
  // ========================= SCHOOL BANK DETAILS =========================
  /**
   * Create or update school bank details
   */
  static async createOrUpdateSchoolBankDetails(campus_id, bankData) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[0]++;
    const startTime =
    /* istanbul ignore next */
    (cov_9ho3sok97().s[0]++, Date.now());
    // Log bank details operation attempt
    /* istanbul ignore next */
    cov_9ho3sok97().s[1]++;
    PaymentSecurityMonitor.logSecurityEvent({
      event_type: "bank_details_operation",
      campus_id,
      details: {
        operation: "create_or_update",
        has_account_number: !!bankData.account_number,
        has_ifsc: !!bankData.ifsc_code,
        has_bank_name: !!bankData.bank_name
      },
      severity: "low",
      success: false
    });
    /* istanbul ignore next */
    cov_9ho3sok97().s[2]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[3]++;
      // Validate required fields
      if (!campus_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[0][0]++;
        cov_9ho3sok97().s[4]++;
        throw PaymentErrorHandler.createError("VAL_001", {
          missing_fields: {
            campus_id: true
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[0][1]++;
      }
      cov_9ho3sok97().s[5]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[2][0]++, !bankData.account_number) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[2][1]++, !bankData.ifsc_code) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[2][2]++, !bankData.bank_name)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[1][0]++;
        cov_9ho3sok97().s[6]++;
        throw PaymentErrorHandler.createError("VAL_001", {
          missing_fields: {
            account_number: !bankData.account_number,
            ifsc_code: !bankData.ifsc_code,
            bank_name: !bankData.bank_name
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[1][1]++;
      }
      // Check if bank details already exist
      const existingBankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[7]++, await SchoolBankDetails.find({
        campus_id,
        is_active: true
      }));
      let result;
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[8]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_9ho3sok97().s[9]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[4][0]++, existingBankDetails.rows) &&
      /* istanbul ignore next */
      (cov_9ho3sok97().b[4][1]++, existingBankDetails.rows.length > 0)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[3][0]++;
        cov_9ho3sok97().s[10]++;
        // Update existing details
        result = await SchoolBankDetails.updateById(existingBankDetails.rows[0].id, Object.assign(Object.assign({}, bankData), {
          updated_at: new Date()
        }));
        /* istanbul ignore next */
        cov_9ho3sok97().s[11]++;
        PaymentSecurityMonitor.logSecurityEvent({
          event_type: "bank_details_operation",
          campus_id,
          details: {
            operation: "update",
            bank_details_id: result.id,
            execution_time_ms: executionTime
          },
          severity: "low",
          success: true
        });
      } else {
        /* istanbul ignore next */
        cov_9ho3sok97().b[3][1]++;
        cov_9ho3sok97().s[12]++;
        // Create new bank details
        result = await SchoolBankDetails.create(Object.assign(Object.assign({
          campus_id
        }, bankData), {
          is_active: true,
          is_verified: false,
          meta_data:
          /* istanbul ignore next */
          (cov_9ho3sok97().b[5][0]++, bankData.meta_data) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[5][1]++, {}),
          created_at: new Date(),
          updated_at: new Date()
        }));
        /* istanbul ignore next */
        cov_9ho3sok97().s[13]++;
        PaymentSecurityMonitor.logSecurityEvent({
          event_type: "bank_details_operation",
          campus_id,
          details: {
            operation: "create",
            bank_details_id: result.id,
            execution_time_ms: executionTime
          },
          severity: "low",
          success: true
        });
      }
      /* istanbul ignore next */
      cov_9ho3sok97().s[14]++;
      return result;
    } catch (error) {
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[15]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_9ho3sok97().s[16]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "bank_details_operation",
        campus_id,
        details: {
          operation: "create_or_update",
          execution_time_ms: executionTime,
          error_details: error instanceof Error ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[6][0]++, error.message) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[6][1]++, String(error))
        },
        severity: "medium",
        success: false,
        error_message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[7][0]++, error.message) :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[7][1]++, String(error))
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[17]++;
      throw error;
    }
  }
  /**
   * Get school bank details by campus
   */
  static async getSchoolBankDetails(campus_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[1]++;
    cov_9ho3sok97().s[18]++;
    try {
      const bankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[19]++, await SchoolBankDetails.find({
        campus_id,
        is_active: true
      }));
      /* istanbul ignore next */
      cov_9ho3sok97().s[20]++;
      return /* istanbul ignore next */(cov_9ho3sok97().b[9][0]++, bankDetails.rows) &&
      /* istanbul ignore next */
      (cov_9ho3sok97().b[9][1]++, bankDetails.rows.length > 0) ?
      /* istanbul ignore next */
      (cov_9ho3sok97().b[8][0]++, bankDetails.rows[0]) :
      /* istanbul ignore next */
      (cov_9ho3sok97().b[8][1]++, null);
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[21]++;
      throw new Error(`Failed to get bank details: ${error}`);
    }
  }
  // ========================= FEE CATEGORIES =========================
  /**
   * Create fee category
   */
  static async createFeeCategory(campus_id, categoryData) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[2]++;
    cov_9ho3sok97().s[22]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[23]++;
      return await FeeCategory.create(Object.assign(Object.assign({
        campus_id
      }, categoryData), {
        is_active: true,
        meta_data:
        /* istanbul ignore next */
        (cov_9ho3sok97().b[10][0]++, categoryData.meta_data) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[10][1]++, {}),
        created_at: new Date(),
        updated_at: new Date()
      }));
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[24]++;
      throw new Error(`Failed to create fee category: ${error}`);
    }
  }
  /**
   * Get fee categories by campus and academic year
   */
  static async getFeeCategoriesByCampus(campus_id, academic_year) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[3]++;
    cov_9ho3sok97().s[25]++;
    try {
      const query =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[26]++, {
        campus_id,
        is_active: true
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[27]++;
      if (academic_year) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[11][0]++;
        cov_9ho3sok97().s[28]++;
        query.academic_year = academic_year;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[11][1]++;
      }
      const categories =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[29]++, await FeeCategory.find(query));
      /* istanbul ignore next */
      cov_9ho3sok97().s[30]++;
      return /* istanbul ignore next */(cov_9ho3sok97().b[12][0]++, categories.rows) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[12][1]++, []);
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[31]++;
      throw new Error(`Failed to get fee categories: ${error}`);
    }
  }
  /**
   * Update fee category
   */
  static async updateFeeCategory(category_id, updateData) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[4]++;
    cov_9ho3sok97().s[32]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[33]++;
      return await FeeCategory.updateById(category_id, Object.assign(Object.assign({}, updateData), {
        updated_at: new Date()
      }));
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[34]++;
      throw new Error(`Failed to update fee category: ${error}`);
    }
  }
  // ========================= FEE TEMPLATES =========================
  /**
   * Create fee template
   */
  static async createFeeTemplate(campus_id, templateData) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[5]++;
    cov_9ho3sok97().s[35]++;
    try {
      const template =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[36]++, await FeeTemplate.create(Object.assign(Object.assign({
        campus_id
      }, templateData), {
        is_active: true,
        meta_data:
        /* istanbul ignore next */
        (cov_9ho3sok97().b[13][0]++, templateData.meta_data) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[13][1]++, {}),
        created_at: new Date(),
        updated_at: new Date()
      })));
      // If auto_generate is true, generate fees for applicable students
      /* istanbul ignore next */
      cov_9ho3sok97().s[37]++;
      if (template.auto_generate) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[14][0]++;
        cov_9ho3sok97().s[38]++;
        await this.generateFeesFromTemplate(template.id);
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[14][1]++;
      }
      cov_9ho3sok97().s[39]++;
      return template;
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[40]++;
      throw new Error(`Failed to create fee template: ${error}`);
    }
  }
  /**
   * Get fee templates by campus and class
   */
  static async getFeeTemplatesByCampus(campus_id, class_id, academic_year) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[6]++;
    cov_9ho3sok97().s[41]++;
    try {
      const query =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[42]++, {
        campus_id,
        is_active: true
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[43]++;
      if (class_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[15][0]++;
        cov_9ho3sok97().s[44]++;
        query.class_id = class_id;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[15][1]++;
      }
      cov_9ho3sok97().s[45]++;
      if (academic_year) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[16][0]++;
        cov_9ho3sok97().s[46]++;
        query.academic_year = academic_year;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[16][1]++;
      }
      const templates =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[47]++, await FeeTemplate.find(query));
      /* istanbul ignore next */
      cov_9ho3sok97().s[48]++;
      return /* istanbul ignore next */(cov_9ho3sok97().b[17][0]++, templates.rows) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[17][1]++, []);
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[49]++;
      throw new Error(`Failed to get fee templates: ${error}`);
    }
  }
  /**
   * Generate fees from template
   */
  static async generateFeesFromTemplate(template_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[7]++;
    cov_9ho3sok97().s[50]++;
    try {
      const template =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[51]++, await FeeTemplate.findById(template_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[52]++;
      if (!template) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[18][0]++;
        cov_9ho3sok97().s[53]++;
        throw new Error("Template not found");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[18][1]++;
      }
      const fees =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[54]++, []);
      const students =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[55]++, template.applicable_students.length > 0 ?
      /* istanbul ignore next */
      (cov_9ho3sok97().b[19][0]++, template.applicable_students) :
      /* istanbul ignore next */
      (cov_9ho3sok97().b[19][1]++, await this.getStudentsByClass(template.class_id)));
      /* istanbul ignore next */
      cov_9ho3sok97().s[56]++;
      for (const student_id of students) {
        // Check if fee already exists for this student and template
        const existingFee =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[57]++, await Fee.find({
          campus_id: template.campus_id,
          user_id: student_id,
          fee_template_id: template_id,
          academic_year: template.academic_year
        }));
        /* istanbul ignore next */
        cov_9ho3sok97().s[58]++;
        if (
        /* istanbul ignore next */
        (cov_9ho3sok97().b[21][0]++, !existingFee.rows) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[21][1]++, existingFee.rows.length === 0)) {
          /* istanbul ignore next */
          cov_9ho3sok97().b[20][0]++;
          const feeData =
          /* istanbul ignore next */
          (cov_9ho3sok97().s[59]++, {
            campus_id: template.campus_id,
            user_id: student_id,
            class_id: template.class_id,
            academic_year: template.academic_year,
            fee_template_id: template_id,
            items: template.fee_structure.map(item => {
              /* istanbul ignore next */
              cov_9ho3sok97().f[8]++;
              cov_9ho3sok97().s[60]++;
              return {
                category_id: item.category_id,
                fee_type: item.category_name,
                amount: item.amount,
                name: item.category_name,
                due_date: item.due_date,
                is_mandatory: item.is_mandatory,
                late_fee_applicable: item.late_fee_applicable
              };
            }),
            total_amount: template.total_amount,
            paid_amount: 0,
            due_amount: template.total_amount,
            discount_amount: 0,
            late_fee_amount: 0,
            payment_status: "unpaid",
            is_paid: false,
            installments_allowed: false,
            auto_late_fee: true,
            reminder_sent: {
              email_count: 0,
              sms_count: 0
            },
            meta_data: {}
          });
          const fee =
          /* istanbul ignore next */
          (cov_9ho3sok97().s[61]++, await Fee.create(feeData));
          /* istanbul ignore next */
          cov_9ho3sok97().s[62]++;
          fees.push(fee);
        } else
        /* istanbul ignore next */
        {
          cov_9ho3sok97().b[20][1]++;
        }
      }
      /* istanbul ignore next */
      cov_9ho3sok97().s[63]++;
      return fees;
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[64]++;
      throw new Error(`Failed to generate fees from template: ${error}`);
    }
  }
  // ========================= PAYMENT PROCESSING =========================
  /**
   * Initiate payment for a fee (SECURE VERSION)
   */
  static async initiatePayment(campus_id, fee_id, student_id, parent_id, gateway, amount, callback_url, cancel_url) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[9]++;
    const startTime =
    /* istanbul ignore next */
    (cov_9ho3sok97().s[65]++, Date.now());
    // Log payment initiation attempt
    /* istanbul ignore next */
    cov_9ho3sok97().s[66]++;
    PaymentSecurityMonitor.logSecurityEvent({
      event_type: "payment_initiated",
      user_id: student_id,
      campus_id,
      details: {
        fee_id,
        gateway,
        amount,
        parent_id,
        callback_url
      },
      severity: "low",
      success: false // Will be updated to true on success
    });
    /* istanbul ignore next */
    cov_9ho3sok97().s[67]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[68]++;
      // Validate input parameters
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[23][0]++, !campus_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[23][1]++, !fee_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[23][2]++, !student_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[23][3]++, !gateway)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[22][0]++;
        cov_9ho3sok97().s[69]++;
        throw PaymentErrorHandler.createError("VAL_001", {
          missing_fields: {
            campus_id: !campus_id,
            fee_id: !fee_id,
            student_id: !student_id,
            gateway: !gateway
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[22][1]++;
      }
      cov_9ho3sok97().s[70]++;
      if (amount <= 0) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[24][0]++;
        cov_9ho3sok97().s[71]++;
        throw PaymentErrorHandler.createError("VAL_003", {
          provided_amount: amount
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[24][1]++;
      }
      // Get school bank details
      const bankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[72]++, await this.getSchoolBankDetails(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[73]++;
      if (!bankDetails) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[25][0]++;
        cov_9ho3sok97().s[74]++;
        throw PaymentErrorHandler.createError("BIZ_005", {
          campus_id
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[25][1]++;
      }
      // Get secure credentials
      const gatewayCredentials =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[75]++, await SecurePaymentCredentialService.getSecureCredentials(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[76]++;
      if (!gatewayCredentials) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[26][0]++;
        cov_9ho3sok97().s[77]++;
        throw PaymentErrorHandler.createError("GATEWAY_001", {
          campus_id,
          gateway
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[26][1]++;
      }
      const gatewayConfig =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[78]++, gatewayCredentials);
      const availableGateways =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[79]++, PaymentGatewayService.getAvailableGateways(gatewayConfig));
      /* istanbul ignore next */
      cov_9ho3sok97().s[80]++;
      if (!availableGateways.includes(gateway)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[27][0]++;
        cov_9ho3sok97().s[81]++;
        throw PaymentErrorHandler.createError("GATEWAY_006", {
          requested_gateway: gateway,
          available_gateways: availableGateways
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[27][1]++;
      }
      // Create payment transaction record
      const transaction =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[82]++, await PaymentTransaction.create({
        campus_id,
        fee_id,
        student_id,
        parent_id,
        payment_gateway: gateway,
        amount,
        currency: "INR",
        status: "pending",
        payment_details: {},
        initiated_at: new Date(),
        webhook_verified: false,
        invoice_generated: false,
        meta_data: {}
      }));
      // Create payment order with selected gateway
      const orderRequest =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[83]++, {
        amount,
        currency: "INR",
        receipt: `RECEIPT_${transaction.id}`,
        student_id,
        parent_id,
        fee_id,
        campus_id,
        callback_url,
        cancel_url
      });
      let paymentDetails;
      /* istanbul ignore next */
      cov_9ho3sok97().s[84]++;
      switch (gateway) {
        case "razorpay":
          /* istanbul ignore next */
          cov_9ho3sok97().b[28][0]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[85]++;
            paymentDetails = await PaymentGatewayService.createRazorpayOrder(gatewayConfig.razorpay, orderRequest);
            /* istanbul ignore next */
            cov_9ho3sok97().s[86]++;
            break;
          }
        case "payu":
          /* istanbul ignore next */
          cov_9ho3sok97().b[28][1]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[87]++;
            paymentDetails = await PaymentGatewayService.createPayUOrder(gatewayConfig.payu, orderRequest);
            /* istanbul ignore next */
            cov_9ho3sok97().s[88]++;
            break;
          }
        case "cashfree":
          /* istanbul ignore next */
          cov_9ho3sok97().b[28][2]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[89]++;
            paymentDetails = await PaymentGatewayService.createCashfreeOrder(gatewayConfig.cashfree, orderRequest);
            /* istanbul ignore next */
            cov_9ho3sok97().s[90]++;
            break;
          }
        default:
          /* istanbul ignore next */
          cov_9ho3sok97().b[28][3]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[91]++;
            throw PaymentErrorHandler.createError("GATEWAY_006", {
              gateway,
              supported_gateways: ["razorpay", "payu", "cashfree"]
            });
          }
      }
      // Update transaction with gateway details
      const updatedTransaction =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[92]++, await PaymentTransaction.updateById(transaction.id, {
        gateway_order_id: paymentDetails.gateway_order_id,
        payment_details: paymentDetails,
        updated_at: new Date()
      }));
      // Log successful payment initiation
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[93]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_9ho3sok97().s[94]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "payment_initiated",
        user_id: student_id,
        campus_id,
        details: {
          fee_id,
          gateway,
          amount,
          transaction_id: transaction.id,
          gateway_order_id: paymentDetails.gateway_order_id,
          execution_time_ms: executionTime
        },
        severity: "low",
        success: true
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[95]++;
      PaymentSecurityMonitor.logAuditEvent({
        event_type: "payment_initiated",
        user_id: student_id,
        campus_id,
        transaction_id: transaction.id,
        gateway,
        amount,
        details: {
          fee_id,
          parent_id,
          callback_url,
          gateway_order_id: paymentDetails.gateway_order_id
        },
        success: true,
        execution_time_ms: executionTime
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[96]++;
      return {
        transaction: updatedTransaction,
        payment_details: paymentDetails,
        available_gateways: availableGateways
      };
    } catch (error) {
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[97]++, Date.now() - startTime);
      // Log failed payment initiation
      /* istanbul ignore next */
      cov_9ho3sok97().s[98]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "payment_initiated",
        user_id: student_id,
        campus_id,
        details: {
          fee_id,
          gateway,
          amount,
          execution_time_ms: executionTime,
          error_details: error instanceof Error ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[29][0]++, error.message) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[29][1]++, String(error))
        },
        severity: "medium",
        success: false,
        error_message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[30][0]++, error.message) :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[30][1]++, String(error))
      });
      // Re-throw the error for the controller to handle
      /* istanbul ignore next */
      cov_9ho3sok97().s[99]++;
      throw error;
    }
  }
  /**
   * Verify payment and update status (SECURE VERSION)
   */
  static async verifyAndUpdatePayment(transaction_id, payment_id, signature, additionalData) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[10]++;
    const startTime =
    /* istanbul ignore next */
    (cov_9ho3sok97().s[100]++, Date.now());
    /* istanbul ignore next */
    cov_9ho3sok97().s[101]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[102]++;
      // Validate input parameters
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[32][0]++, !transaction_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[32][1]++, !payment_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[32][2]++, !signature)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[31][0]++;
        cov_9ho3sok97().s[103]++;
        throw PaymentErrorHandler.createError("VAL_001", {
          missing_fields: {
            transaction_id: !transaction_id,
            payment_id: !payment_id,
            signature: !signature
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[31][1]++;
      }
      const transaction =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[104]++, await PaymentTransaction.findById(transaction_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[105]++;
      if (!transaction) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[33][0]++;
        cov_9ho3sok97().s[106]++;
        throw PaymentErrorHandler.createError("TRANS_001", {
          transaction_id
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[33][1]++;
      }
      // Check if transaction is already processed
      cov_9ho3sok97().s[107]++;
      if (transaction.status === "success") {
        /* istanbul ignore next */
        cov_9ho3sok97().b[34][0]++;
        cov_9ho3sok97().s[108]++;
        throw PaymentErrorHandler.createError("TRANS_002", {
          transaction_id,
          current_status: transaction.status
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[34][1]++;
      }
      // Get secure credentials
      const gatewayCredentials =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[109]++, await SecurePaymentCredentialService.getSecureCredentials(transaction.campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[110]++;
      if (!gatewayCredentials) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[35][0]++;
        cov_9ho3sok97().s[111]++;
        throw PaymentErrorHandler.createError("GATEWAY_001", {
          campus_id: transaction.campus_id,
          gateway: transaction.payment_gateway
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[35][1]++;
      }
      const gatewayConfig =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[112]++, gatewayCredentials);
      let isVerified =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[113]++, false);
      // Verify payment based on gateway
      /* istanbul ignore next */
      cov_9ho3sok97().s[114]++;
      switch (transaction.payment_gateway) {
        case "razorpay":
          /* istanbul ignore next */
          cov_9ho3sok97().b[36][0]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[115]++;
            isVerified = PaymentGatewayService.verifyRazorpayPayment(gatewayConfig.razorpay, {
              gateway: "razorpay",
              payment_id,
              order_id: transaction.gateway_order_id,
              signature,
              amount: transaction.amount
            });
            /* istanbul ignore next */
            cov_9ho3sok97().s[116]++;
            break;
          }
        case "payu":
          /* istanbul ignore next */
          cov_9ho3sok97().b[36][1]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[117]++;
            isVerified = PaymentGatewayService.verifyPayUPayment(gatewayConfig.payu, Object.assign(Object.assign({}, additionalData), {
              gateway: "payu",
              payment_id,
              order_id: transaction.gateway_order_id,
              signature,
              amount: transaction.amount
            }));
            /* istanbul ignore next */
            cov_9ho3sok97().s[118]++;
            break;
          }
        case "cashfree":
          /* istanbul ignore next */
          cov_9ho3sok97().b[36][2]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[119]++;
            isVerified = PaymentGatewayService.verifyCashfreePayment(gatewayConfig.cashfree, {
              gateway: "cashfree",
              payment_id,
              order_id: transaction.gateway_order_id,
              signature,
              amount: transaction.amount
            });
            /* istanbul ignore next */
            cov_9ho3sok97().s[120]++;
            break;
          }
        default:
          /* istanbul ignore next */
          cov_9ho3sok97().b[36][3]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[121]++;
            throw new Error("Unsupported payment gateway");
          }
      }
      /* istanbul ignore next */
      cov_9ho3sok97().s[122]++;
      if (isVerified) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[37][0]++;
        // Update transaction status
        const updatedTransaction =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[123]++, await PaymentTransaction.updateById(transaction_id, {
          gateway_payment_id: payment_id,
          status: "success",
          completed_at: new Date(),
          webhook_verified: true,
          payment_details: Object.assign(Object.assign({}, transaction.payment_details), {
            verification_data: Object.assign({
              payment_id,
              signature
            }, additionalData)
          }),
          updated_at: new Date()
        }));
        // Update fee status
        /* istanbul ignore next */
        cov_9ho3sok97().s[124]++;
        await Fee.updateById(transaction.fee_id, {
          paid_amount: transaction.amount,
          payment_status: "paid",
          is_paid: true,
          payment_date: new Date(),
          payment_mode: transaction.payment_gateway,
          updated_at: new Date()
        });
        // Generate invoice
        const invoice =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[125]++, await this.generateInvoice(transaction_id));
        // Log successful payment verification
        const executionTime =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[126]++, Date.now() - startTime);
        /* istanbul ignore next */
        cov_9ho3sok97().s[127]++;
        PaymentSecurityMonitor.logSecurityEvent({
          event_type: "payment_verified",
          user_id: transaction.student_id,
          campus_id: transaction.campus_id,
          details: {
            transaction_id,
            payment_id,
            gateway: transaction.payment_gateway,
            amount: transaction.amount,
            execution_time_ms: executionTime
          },
          severity: "low",
          success: true
        });
        /* istanbul ignore next */
        cov_9ho3sok97().s[128]++;
        PaymentSecurityMonitor.logAuditEvent({
          event_type: "payment_verified",
          user_id: transaction.student_id,
          campus_id: transaction.campus_id,
          transaction_id,
          gateway: transaction.payment_gateway,
          amount: transaction.amount,
          details: {
            payment_id,
            signature_verified: true,
            invoice_id: invoice.id
          },
          success: true,
          execution_time_ms: executionTime
        });
        /* istanbul ignore next */
        cov_9ho3sok97().s[129]++;
        return {
          success: true,
          transaction: updatedTransaction,
          invoice
        };
      } else {
        /* istanbul ignore next */
        cov_9ho3sok97().b[37][1]++;
        // Update transaction as failed
        const updatedTransaction =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[130]++, await PaymentTransaction.updateById(transaction_id, {
          status: "failed",
          payment_details: Object.assign(Object.assign({}, transaction.payment_details), {
            failure_reason: "Payment verification failed"
          }),
          updated_at: new Date()
        }));
        // Log failed payment verification
        const executionTime =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[131]++, Date.now() - startTime);
        /* istanbul ignore next */
        cov_9ho3sok97().s[132]++;
        PaymentSecurityMonitor.logSecurityEvent({
          event_type: "payment_verified",
          user_id: transaction.student_id,
          campus_id: transaction.campus_id,
          details: {
            transaction_id,
            payment_id,
            gateway: transaction.payment_gateway,
            amount: transaction.amount,
            failure_reason: "signature_verification_failed",
            execution_time_ms: executionTime
          },
          severity: "high",
          success: false,
          error_message: "Payment verification failed - invalid signature"
        });
        /* istanbul ignore next */
        cov_9ho3sok97().s[133]++;
        throw PaymentErrorHandler.createError("GATEWAY_005", {
          transaction_id,
          payment_id,
          gateway: transaction.payment_gateway
        });
      }
    } catch (error) {
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[134]++, Date.now() - startTime);
      // Log verification error
      /* istanbul ignore next */
      cov_9ho3sok97().s[135]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "payment_verified",
        user_id: transaction_id ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[38][0]++, "unknown") :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[38][1]++, undefined),
        details: {
          transaction_id,
          payment_id,
          execution_time_ms: executionTime,
          error_details: error instanceof Error ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[39][0]++, error.message) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[39][1]++, String(error))
        },
        severity: "high",
        success: false,
        error_message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[40][0]++, error.message) :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[40][1]++, String(error))
      });
      // Re-throw the error for the controller to handle
      /* istanbul ignore next */
      cov_9ho3sok97().s[136]++;
      throw error;
    }
  }
  /**
   * Generate invoice for payment
   */
  static async generateInvoice(transaction_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[11]++;
    cov_9ho3sok97().s[137]++;
    try {
      const transaction =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[138]++, await PaymentTransaction.findById(transaction_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[139]++;
      if (!transaction) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[41][0]++;
        cov_9ho3sok97().s[140]++;
        throw new Error("Transaction not found");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[41][1]++;
      }
      const fee =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[141]++, await Fee.findById(transaction.fee_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[142]++;
      if (!fee) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[42][0]++;
        cov_9ho3sok97().s[143]++;
        throw new Error("Fee record not found");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[42][1]++;
      }
      // Generate unique invoice number
      const invoiceNumber =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[144]++, `INV-${transaction.campus_id}-${Date.now()}`);
      // Get student and school details (this would need actual implementation)
      const studentDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[145]++, await this.getStudentDetails(transaction.student_id));
      const schoolDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[146]++, await this.getSchoolDetails(transaction.campus_id));
      const invoice =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[147]++, await PaymentInvoice.create({
        campus_id: transaction.campus_id,
        transaction_id: transaction_id,
        fee_id: transaction.fee_id,
        student_id: transaction.student_id,
        parent_id: transaction.parent_id,
        invoice_number: invoiceNumber,
        invoice_date: new Date(),
        due_date: new Date(),
        // This should be calculated based on fee due date
        amount_details: {
          subtotal: fee.total_amount,
          discount_amount: fee.discount_amount,
          late_fee_amount: fee.late_fee_amount,
          tax_amount: 0,
          // Calculate if applicable
          total_amount: transaction.amount
        },
        payment_details: {
          amount_paid: transaction.amount,
          payment_date: transaction.completed_at,
          payment_method: transaction.payment_gateway,
          transaction_reference: transaction.gateway_payment_id
        },
        student_details: studentDetails,
        school_details: schoolDetails,
        fee_breakdown: fee.items.map(item => {
          /* istanbul ignore next */
          cov_9ho3sok97().f[12]++;
          cov_9ho3sok97().s[148]++;
          return {
            category_name: item.name,
            amount: item.amount,
            description: item.fee_type
          };
        }),
        status: "generated",
        sent_notifications: {
          email_sent: false,
          sms_sent: false,
          whatsapp_sent: false
        },
        meta_data: {}
      }));
      // Update transaction with invoice generated flag
      /* istanbul ignore next */
      cov_9ho3sok97().s[149]++;
      await PaymentTransaction.updateById(transaction_id, {
        invoice_generated: true,
        receipt_number: invoiceNumber,
        updated_at: new Date()
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[150]++;
      return invoice;
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[151]++;
      throw new Error(`Failed to generate invoice: ${error}`);
    }
  }
  /**
   * Get payment history for student/parent
   */
  static async getPaymentHistory(campus_id, student_id, parent_id, status) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[13]++;
    cov_9ho3sok97().s[152]++;
    try {
      const query =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[153]++, {
        campus_id
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[154]++;
      if (student_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[43][0]++;
        cov_9ho3sok97().s[155]++;
        query.user_id = student_id;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[43][1]++;
      }
      const fees =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[156]++, await Fee.find(query));
      const transactionQuery =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[157]++, {
        campus_id
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[158]++;
      if (student_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[44][0]++;
        cov_9ho3sok97().s[159]++;
        transactionQuery.student_id = student_id;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[44][1]++;
      }
      cov_9ho3sok97().s[160]++;
      if (parent_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[45][0]++;
        cov_9ho3sok97().s[161]++;
        transactionQuery.parent_id = parent_id;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[45][1]++;
      }
      cov_9ho3sok97().s[162]++;
      if (status) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[46][0]++;
        cov_9ho3sok97().s[163]++;
        transactionQuery.status = status;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[46][1]++;
      }
      const transactions =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[164]++, await PaymentTransaction.find(transactionQuery));
      const invoiceQuery =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[165]++, {
        campus_id
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[166]++;
      if (student_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[47][0]++;
        cov_9ho3sok97().s[167]++;
        invoiceQuery.student_id = student_id;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[47][1]++;
      }
      cov_9ho3sok97().s[168]++;
      if (parent_id) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[48][0]++;
        cov_9ho3sok97().s[169]++;
        invoiceQuery.parent_id = parent_id;
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[48][1]++;
      }
      const invoices =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[170]++, await PaymentInvoice.find(invoiceQuery));
      /* istanbul ignore next */
      cov_9ho3sok97().s[171]++;
      return {
        fees:
        /* istanbul ignore next */
        (cov_9ho3sok97().b[49][0]++, fees.rows) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[49][1]++, []),
        transactions:
        /* istanbul ignore next */
        (cov_9ho3sok97().b[50][0]++, transactions.rows) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[50][1]++, []),
        invoices:
        /* istanbul ignore next */
        (cov_9ho3sok97().b[51][0]++, invoices.rows) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[51][1]++, [])
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[172]++;
      throw new Error(`Failed to get payment history: ${error}`);
    }
  }
  // ========================= PAYMENT GATEWAY CONFIGURATION =========================
  /**
   * Configure specific payment gateway for a school (SECURE VERSION)
   */
  static async configurePaymentGateway(campus_id, gateway, credentials, enabled =
  /* istanbul ignore next */
  (cov_9ho3sok97().b[52][0]++, true)) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[14]++;
    const startTime =
    /* istanbul ignore next */
    (cov_9ho3sok97().s[173]++, Date.now());
    // Log gateway configuration attempt
    /* istanbul ignore next */
    cov_9ho3sok97().s[174]++;
    PaymentSecurityMonitor.logSecurityEvent({
      event_type: "credential_modified",
      campus_id,
      details: {
        gateway,
        operation: "configure_gateway",
        enabled,
        has_credentials: !!credentials
      },
      severity: "medium",
      success: false
    });
    /* istanbul ignore next */
    cov_9ho3sok97().s[175]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[176]++;
      // Validate input parameters
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[54][0]++, !campus_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[54][1]++, !gateway) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[54][2]++, !credentials)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[53][0]++;
        cov_9ho3sok97().s[177]++;
        throw PaymentErrorHandler.createError("VAL_001", {
          missing_fields: {
            campus_id: !campus_id,
            gateway: !gateway,
            credentials: !credentials
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[53][1]++;
      }
      const bankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[178]++, await this.getSchoolBankDetails(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[179]++;
      if (!bankDetails) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[55][0]++;
        cov_9ho3sok97().s[180]++;
        throw PaymentErrorHandler.createError("BIZ_005", {
          campus_id
        });
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[55][1]++;
      }
      // Validate credentials before saving
      cov_9ho3sok97().s[181]++;
      await this.validateGatewayCredentials(gateway, credentials);
      // Prepare credentials for secure storage
      const gatewayCredentials =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[182]++, Object.assign(Object.assign({}, credentials), {
        enabled
      }));
      // Store securely
      const result =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[183]++, await SecurePaymentCredentialService.updateGatewayCredentials(campus_id, gateway, gatewayCredentials));
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[184]++, Date.now() - startTime);
      // Log successful configuration
      /* istanbul ignore next */
      cov_9ho3sok97().s[185]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "credential_modified",
        campus_id,
        details: {
          gateway,
          operation: "configure_gateway",
          enabled,
          execution_time_ms: executionTime
        },
        severity: "medium",
        success: true
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[186]++;
      PaymentSecurityMonitor.logAuditEvent({
        event_type: "gateway_configured",
        campus_id,
        gateway,
        details: {
          enabled,
          credentials_updated: true
        },
        success: true,
        execution_time_ms: executionTime
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[187]++;
      return result;
    } catch (error) {
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[188]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_9ho3sok97().s[189]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "credential_modified",
        campus_id,
        details: {
          gateway,
          operation: "configure_gateway",
          execution_time_ms: executionTime,
          error_details: error instanceof Error ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[56][0]++, error.message) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[56][1]++, String(error))
        },
        severity: "high",
        success: false,
        error_message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[57][0]++, error.message) :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[57][1]++, String(error))
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[190]++;
      throw error;
    }
  }
  /**
   * Test payment gateway configuration (SECURE VERSION)
   */
  static async testGatewayConfiguration(campus_id, gateway) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[15]++;
    const startTime =
    /* istanbul ignore next */
    (cov_9ho3sok97().s[191]++, Date.now());
    // Log gateway test attempt
    /* istanbul ignore next */
    cov_9ho3sok97().s[192]++;
    PaymentSecurityMonitor.logSecurityEvent({
      event_type: "gateway_test",
      campus_id,
      details: {
        gateway,
        operation: "test_configuration"
      },
      severity: "low",
      success: false
    });
    /* istanbul ignore next */
    cov_9ho3sok97().s[193]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[194]++;
      // Validate input parameters
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[59][0]++, !campus_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[59][1]++, !gateway)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[58][0]++;
        const error =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[195]++, PaymentErrorHandler.createError("VAL_001", {
          missing_fields: {
            campus_id: !campus_id,
            gateway: !gateway
          }
        }));
        const errorResponse =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[196]++, PaymentErrorHandler.formatErrorResponse(error));
        /* istanbul ignore next */
        cov_9ho3sok97().s[197]++;
        return {
          success: false,
          message: errorResponse.error.message
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[58][1]++;
      }
      const bankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[198]++, await this.getSchoolBankDetails(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[199]++;
      if (!bankDetails) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[60][0]++;
        cov_9ho3sok97().s[200]++;
        return {
          success: false,
          message: "School bank details not found"
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[60][1]++;
      }
      // Get secure credentials
      const gatewayConfig =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[201]++, await SecurePaymentCredentialService.getGatewayCredentials(campus_id, gateway));
      /* istanbul ignore next */
      cov_9ho3sok97().s[202]++;
      if (!gatewayConfig) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[61][0]++;
        cov_9ho3sok97().s[203]++;
        return {
          success: false,
          message: `${gateway} not configured`
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[61][1]++;
      }
      cov_9ho3sok97().s[204]++;
      if (!gatewayConfig.enabled) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[62][0]++;
        cov_9ho3sok97().s[205]++;
        return {
          success: false,
          message: `${gateway} is disabled`
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[62][1]++;
      }
      // Test gateway connection based on type
      let testResult;
      /* istanbul ignore next */
      cov_9ho3sok97().s[206]++;
      switch (gateway) {
        case "razorpay":
          /* istanbul ignore next */
          cov_9ho3sok97().b[63][0]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[207]++;
            testResult = await this.testRazorpayConnection(gatewayConfig);
            /* istanbul ignore next */
            cov_9ho3sok97().s[208]++;
            break;
          }
        case "payu":
          /* istanbul ignore next */
          cov_9ho3sok97().b[63][1]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[209]++;
            testResult = await this.testPayUConnection(gatewayConfig);
            /* istanbul ignore next */
            cov_9ho3sok97().s[210]++;
            break;
          }
        case "cashfree":
          /* istanbul ignore next */
          cov_9ho3sok97().b[63][2]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[211]++;
            testResult = await this.testCashfreeConnection(gatewayConfig);
            /* istanbul ignore next */
            cov_9ho3sok97().s[212]++;
            break;
          }
        default:
          /* istanbul ignore next */
          cov_9ho3sok97().b[63][3]++;
          {
            /* istanbul ignore next */
            cov_9ho3sok97().s[213]++;
            return {
              success: false,
              message: "Unsupported gateway"
            };
          }
      }
      // Update gateway status
      /* istanbul ignore next */
      cov_9ho3sok97().s[214]++;
      await SecurePaymentCredentialService.updateGatewayStatus(campus_id, gateway, {
        last_tested: new Date(),
        test_status: testResult.success ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[64][0]++, "success") :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[64][1]++, "failed")
      });
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[215]++, Date.now() - startTime);
      // Log test result
      /* istanbul ignore next */
      cov_9ho3sok97().s[216]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "gateway_test",
        campus_id,
        details: {
          gateway,
          operation: "test_configuration",
          test_success: testResult.success,
          execution_time_ms: executionTime
        },
        severity: testResult.success ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[65][0]++, "low") :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[65][1]++, "medium"),
        success: testResult.success
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[217]++;
      PaymentSecurityMonitor.logAuditEvent({
        event_type: "gateway_tested",
        campus_id,
        gateway,
        details: {
          test_result: testResult.success,
          test_message: testResult.message
        },
        success: testResult.success,
        execution_time_ms: executionTime
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[218]++;
      return testResult;
    } catch (error) {
      const executionTime =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[219]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_9ho3sok97().s[220]++;
      PaymentSecurityMonitor.logSecurityEvent({
        event_type: "gateway_test",
        campus_id,
        details: {
          gateway,
          operation: "test_configuration",
          execution_time_ms: executionTime,
          error_details: error instanceof Error ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[66][0]++, error.message) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[66][1]++, String(error))
        },
        severity: "medium",
        success: false,
        error_message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[67][0]++, error.message) :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[67][1]++, String(error))
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[221]++;
      return {
        success: false,
        message: `Gateway test failed: ${error}`,
        details: {
          error: String(error)
        }
      };
    }
  }
  /**
   * Get available and enabled payment gateways for a school (SECURE VERSION)
   */
  static async getAvailableGateways(campus_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[16]++;
    cov_9ho3sok97().s[222]++;
    try {
      const bankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[223]++, await this.getSchoolBankDetails(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[224]++;
      if (!bankDetails) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[68][0]++;
        cov_9ho3sok97().s[225]++;
        return {
          available: [],
          enabled: [],
          configurations: {}
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[68][1]++;
      }
      // Get gateway status (non-sensitive data)
      const gatewayStatus =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[226]++, await SecurePaymentCredentialService.getGatewayStatus(campus_id));
      const available =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[227]++, Object.keys(
      /* istanbul ignore next */
      (cov_9ho3sok97().b[69][0]++, gatewayStatus) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[69][1]++, {})));
      const enabled =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[228]++, available.filter(gateway => {
        /* istanbul ignore next */
        cov_9ho3sok97().f[17]++;
        var _a;
        /* istanbul ignore next */
        cov_9ho3sok97().s[229]++;
        return (
        /* istanbul ignore next */
        (cov_9ho3sok97().b[71][0]++, (_a = gatewayStatus[gateway]) === null) ||
        /* istanbul ignore next */
        (cov_9ho3sok97().b[71][1]++, _a === void 0) ?
        /* istanbul ignore next */
        (cov_9ho3sok97().b[70][0]++, void 0) :
        /* istanbul ignore next */
        (cov_9ho3sok97().b[70][1]++, _a.enabled)) === true;
      }));
      // Return configurations without sensitive data
      const safeConfigurations =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[230]++, {});
      /* istanbul ignore next */
      cov_9ho3sok97().s[231]++;
      for (const gateway of available) {
        const status =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[232]++, gatewayStatus[gateway]);
        /* istanbul ignore next */
        cov_9ho3sok97().s[233]++;
        safeConfigurations[gateway] = {
          enabled:
          /* istanbul ignore next */
          (cov_9ho3sok97().b[72][0]++,
          /* istanbul ignore next */
          (cov_9ho3sok97().b[74][0]++, status === null) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[74][1]++, status === void 0) ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[73][0]++, void 0) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[73][1]++, status.enabled)) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[72][1]++, false),
          configured:
          /* istanbul ignore next */
          (cov_9ho3sok97().b[75][0]++,
          /* istanbul ignore next */
          (cov_9ho3sok97().b[77][0]++, status === null) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[77][1]++, status === void 0) ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[76][0]++, void 0) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[76][1]++, status.configured)) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[75][1]++, false),
          last_tested:
          /* istanbul ignore next */
          (cov_9ho3sok97().b[78][0]++,
          /* istanbul ignore next */
          (cov_9ho3sok97().b[80][0]++, status === null) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[80][1]++, status === void 0) ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[79][0]++, void 0) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[79][1]++, status.last_tested)) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[78][1]++, null),
          test_status:
          /* istanbul ignore next */
          (cov_9ho3sok97().b[81][0]++,
          /* istanbul ignore next */
          (cov_9ho3sok97().b[83][0]++, status === null) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[83][1]++, status === void 0) ?
          /* istanbul ignore next */
          (cov_9ho3sok97().b[82][0]++, void 0) :
          /* istanbul ignore next */
          (cov_9ho3sok97().b[82][1]++, status.test_status)) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[81][1]++, "untested")
        };
      }
      /* istanbul ignore next */
      cov_9ho3sok97().s[234]++;
      return {
        available,
        enabled,
        configurations: safeConfigurations
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[235]++;
      throw new Error(`Failed to get available gateways: ${error}`);
    }
  }
  /**
   * Enable/Disable specific payment gateway (SECURE VERSION)
   */
  static async toggleGateway(campus_id, gateway, enabled) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[18]++;
    cov_9ho3sok97().s[236]++;
    try {
      const bankDetails =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[237]++, await this.getSchoolBankDetails(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[238]++;
      if (!bankDetails) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[84][0]++;
        cov_9ho3sok97().s[239]++;
        throw new Error("School bank details not found");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[84][1]++;
      }
      // Get current credentials
      const gatewayConfig =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[240]++, await SecurePaymentCredentialService.getGatewayCredentials(campus_id, gateway));
      /* istanbul ignore next */
      cov_9ho3sok97().s[241]++;
      if (!gatewayConfig) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[85][0]++;
        cov_9ho3sok97().s[242]++;
        throw new Error(`${gateway} is not configured`);
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[85][1]++;
      }
      // If enabling, test the configuration first
      cov_9ho3sok97().s[243]++;
      if (enabled) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[86][0]++;
        const testResult =
        /* istanbul ignore next */
        (cov_9ho3sok97().s[244]++, await this.testGatewayConfiguration(campus_id, gateway));
        /* istanbul ignore next */
        cov_9ho3sok97().s[245]++;
        if (!testResult.success) {
          /* istanbul ignore next */
          cov_9ho3sok97().b[87][0]++;
          cov_9ho3sok97().s[246]++;
          throw new Error(`Cannot enable ${gateway}: ${testResult.message}`);
        } else
        /* istanbul ignore next */
        {
          cov_9ho3sok97().b[87][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[86][1]++;
      }
      // Update credentials with new enabled status
      const updatedCredentials =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[247]++, Object.assign(Object.assign({}, gatewayConfig), {
        enabled,
        last_modified: new Date()
      }));
      const updated =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[248]++, await SecurePaymentCredentialService.updateGatewayCredentials(campus_id, gateway, updatedCredentials));
      // Update gateway status
      /* istanbul ignore next */
      cov_9ho3sok97().s[249]++;
      await SecurePaymentCredentialService.updateGatewayStatus(campus_id, gateway, {
        enabled
      });
      /* istanbul ignore next */
      cov_9ho3sok97().s[250]++;
      return updated;
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[251]++;
      throw new Error(`Failed to toggle ${gateway} gateway: ${error}`);
    }
  }
  /**
   * Validate gateway credentials format
   */
  static async validateGatewayCredentials(gateway, credentials) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[19]++;
    cov_9ho3sok97().s[252]++;
    switch (gateway) {
      case "razorpay":
        /* istanbul ignore next */
        cov_9ho3sok97().b[88][0]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[253]++;
          if (
          /* istanbul ignore next */
          (cov_9ho3sok97().b[90][0]++, !credentials.key_id) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[90][1]++, !credentials.key_secret)) {
            /* istanbul ignore next */
            cov_9ho3sok97().b[89][0]++;
            cov_9ho3sok97().s[254]++;
            throw new Error("Razorpay requires key_id and key_secret");
          } else
          /* istanbul ignore next */
          {
            cov_9ho3sok97().b[89][1]++;
          }
          cov_9ho3sok97().s[255]++;
          if (!credentials.key_id.startsWith("rzp_")) {
            /* istanbul ignore next */
            cov_9ho3sok97().b[91][0]++;
            cov_9ho3sok97().s[256]++;
            throw new Error("Invalid Razorpay key_id format");
          } else
          /* istanbul ignore next */
          {
            cov_9ho3sok97().b[91][1]++;
          }
          cov_9ho3sok97().s[257]++;
          break;
        }
      case "payu":
        /* istanbul ignore next */
        cov_9ho3sok97().b[88][1]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[258]++;
          if (
          /* istanbul ignore next */
          (cov_9ho3sok97().b[93][0]++, !credentials.merchant_key) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[93][1]++, !credentials.merchant_salt)) {
            /* istanbul ignore next */
            cov_9ho3sok97().b[92][0]++;
            cov_9ho3sok97().s[259]++;
            throw new Error("PayU requires merchant_key and merchant_salt");
          } else
          /* istanbul ignore next */
          {
            cov_9ho3sok97().b[92][1]++;
          }
          cov_9ho3sok97().s[260]++;
          break;
        }
      case "cashfree":
        /* istanbul ignore next */
        cov_9ho3sok97().b[88][2]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[261]++;
          if (
          /* istanbul ignore next */
          (cov_9ho3sok97().b[95][0]++, !credentials.app_id) ||
          /* istanbul ignore next */
          (cov_9ho3sok97().b[95][1]++, !credentials.secret_key)) {
            /* istanbul ignore next */
            cov_9ho3sok97().b[94][0]++;
            cov_9ho3sok97().s[262]++;
            throw new Error("Cashfree requires app_id and secret_key");
          } else
          /* istanbul ignore next */
          {
            cov_9ho3sok97().b[94][1]++;
          }
          cov_9ho3sok97().s[263]++;
          break;
        }
      default:
        /* istanbul ignore next */
        cov_9ho3sok97().b[88][3]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[264]++;
          throw new Error("Unsupported gateway type");
        }
    }
  }
  /**
   * Test Razorpay connection
   */
  static async testRazorpayConnection(config) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[20]++;
    cov_9ho3sok97().s[265]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[266]++;
      // This would make an actual API call to Razorpay to test credentials
      // For now, we'll just validate the format
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[97][0]++, !config.key_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[97][1]++, !config.key_secret)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[96][0]++;
        cov_9ho3sok97().s[267]++;
        return {
          success: false,
          message: "Missing Razorpay credentials"
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[96][1]++;
      }
      // Here you would make an actual test API call to Razorpay
      // const razorpay = new Razorpay({ key_id: config.key_id, key_secret: config.key_secret });
      // const testOrder = await razorpay.orders.create({ amount: 100, currency: 'INR' });
      cov_9ho3sok97().s[268]++;
      return {
        success: true,
        message: "Razorpay connection successful",
        details: {
          gateway: "razorpay",
          tested_at: new Date()
        }
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[269]++;
      return {
        success: false,
        message: `Razorpay test failed: ${error}`,
        details: {
          error: String(error)
        }
      };
    }
  }
  /**
   * Test PayU connection
   */
  static async testPayUConnection(config) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[21]++;
    cov_9ho3sok97().s[270]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[271]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[99][0]++, !config.merchant_key) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[99][1]++, !config.merchant_salt)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[98][0]++;
        cov_9ho3sok97().s[272]++;
        return {
          success: false,
          message: "Missing PayU credentials"
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[98][1]++;
      }
      // Here you would make an actual test API call to PayU
      // Test hash generation
      const testHash =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[273]++, crypto.createHash("sha512").update(`${config.merchant_key}|test|100|test|test|test@test.com|||||||||||${config.merchant_salt}`).digest("hex"));
      /* istanbul ignore next */
      cov_9ho3sok97().s[274]++;
      return {
        success: true,
        message: "PayU connection successful",
        details: {
          gateway: "payu",
          tested_at: new Date()
        }
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[275]++;
      return {
        success: false,
        message: `PayU test failed: ${error}`,
        details: {
          error: String(error)
        }
      };
    }
  }
  /**
   * Test Cashfree connection
   */
  static async testCashfreeConnection(config) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[22]++;
    cov_9ho3sok97().s[276]++;
    try {
      /* istanbul ignore next */
      cov_9ho3sok97().s[277]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[101][0]++, !config.app_id) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[101][1]++, !config.secret_key)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[100][0]++;
        cov_9ho3sok97().s[278]++;
        return {
          success: false,
          message: "Missing Cashfree credentials"
        };
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[100][1]++;
      }
      // Here you would make an actual test API call to Cashfree
      cov_9ho3sok97().s[279]++;
      return {
        success: true,
        message: "Cashfree connection successful",
        details: {
          gateway: "cashfree",
          tested_at: new Date()
        }
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[280]++;
      return {
        success: false,
        message: `Cashfree test failed: ${error}`,
        details: {
          error: String(error)
        }
      };
    }
  }
  /**
   * Check if gateway is fully configured
   */
  static isGatewayFullyConfigured(gateway, config) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[23]++;
    cov_9ho3sok97().s[281]++;
    switch (gateway) {
      case "razorpay":
        /* istanbul ignore next */
        cov_9ho3sok97().b[102][0]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[282]++;
          return !!(
          /* istanbul ignore next */
          (cov_9ho3sok97().b[103][0]++, config.key_id) &&
          /* istanbul ignore next */
          (cov_9ho3sok97().b[103][1]++, config.key_secret));
        }
      case "payu":
        /* istanbul ignore next */
        cov_9ho3sok97().b[102][1]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[283]++;
          return !!(
          /* istanbul ignore next */
          (cov_9ho3sok97().b[104][0]++, config.merchant_key) &&
          /* istanbul ignore next */
          (cov_9ho3sok97().b[104][1]++, config.merchant_salt));
        }
      case "cashfree":
        /* istanbul ignore next */
        cov_9ho3sok97().b[102][2]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[284]++;
          return !!(
          /* istanbul ignore next */
          (cov_9ho3sok97().b[105][0]++, config.app_id) &&
          /* istanbul ignore next */
          (cov_9ho3sok97().b[105][1]++, config.secret_key));
        }
      default:
        /* istanbul ignore next */
        cov_9ho3sok97().b[102][3]++;
        {
          /* istanbul ignore next */
          cov_9ho3sok97().s[285]++;
          return false;
        }
    }
  }
  // ========================= HELPER METHODS =========================
  /**
   * Get students by class (using existing class service)
   */
  static async getStudentsByClass(class_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[24]++;
    cov_9ho3sok97().s[286]++;
    try {
      const {
        Class
      } =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[287]++, await import("@/models/class.model"));
      const classData =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[288]++, await Class.findById(class_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[289]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[107][0]++, !classData) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[107][1]++, !classData.is_active) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[107][2]++, classData.is_deleted)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[106][0]++;
        cov_9ho3sok97().s[290]++;
        throw new Error("Class not found or inactive");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[106][1]++;
      }
      cov_9ho3sok97().s[291]++;
      return /* istanbul ignore next */(cov_9ho3sok97().b[108][0]++, classData.student_ids) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[108][1]++, []);
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[292]++;
      throw new Error(`Failed to get students by class: ${error}`);
    }
  }
  /**
   * Get student details (using existing user service)
   */
  static async getStudentDetails(student_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[25]++;
    cov_9ho3sok97().s[293]++;
    try {
      const {
        UserService
      } =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[294]++, await import("@/services/users.service"));
      const student =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[295]++, await UserService.getUser(student_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[296]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[110][0]++, !student) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[110][1]++, student.user_type !== "Student") ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[110][2]++, !student.is_active)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[109][0]++;
        cov_9ho3sok97().s[297]++;
        throw new Error("Student not found or inactive");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[109][1]++;
      }
      cov_9ho3sok97().s[298]++;
      return {
        id: student.id,
        name: `${student.first_name} ${student.last_name}`,
        email: student.email,
        phone: student.phone,
        user_id: student.user_id,
        campus_id: student.campus_id,
        meta_data: student.meta_data
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[299]++;
      throw new Error(`Failed to get student details: ${error}`);
    }
  }
  /**
   * Get school details (using existing campus service)
   */
  static async getSchoolDetails(campus_id) {
    /* istanbul ignore next */
    cov_9ho3sok97().f[26]++;
    cov_9ho3sok97().s[300]++;
    try {
      const {
        Campus
      } =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[301]++, await import("@/models/campus.model"));
      const campus =
      /* istanbul ignore next */
      (cov_9ho3sok97().s[302]++, await Campus.findById(campus_id));
      /* istanbul ignore next */
      cov_9ho3sok97().s[303]++;
      if (
      /* istanbul ignore next */
      (cov_9ho3sok97().b[112][0]++, !campus) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[112][1]++, !campus.is_active) ||
      /* istanbul ignore next */
      (cov_9ho3sok97().b[112][2]++, campus.is_deleted)) {
        /* istanbul ignore next */
        cov_9ho3sok97().b[111][0]++;
        cov_9ho3sok97().s[304]++;
        throw new Error("Campus not found or inactive");
      } else
      /* istanbul ignore next */
      {
        cov_9ho3sok97().b[111][1]++;
      }
      cov_9ho3sok97().s[305]++;
      return {
        id: campus.id,
        name: campus.name,
        address: campus.address,
        domain: campus.domain,
        meta_data: campus.meta_data
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_9ho3sok97().s[306]++;
      throw new Error(`Failed to get campus details: ${error}`);
    }
  }
}